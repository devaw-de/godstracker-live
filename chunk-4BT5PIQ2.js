import{$a as N1,$b as de,Aa as O,Ab as t1,B as R,Ba as R1,Bb as F1,Ca as v,Da as w,Db as a1,Ea as g,Eb as K1,Fa as d,Fb as q1,Ga as p,Gb as E1,Ha as Q,Ia as f,Ib as i1,Ja as u,Jb as X1,Ka as B1,Kb as He,L as r1,La as y,Lb as Z1,Ma as D,Mb as Y1,Na as b,Nb as J1,O as j1,Oa as P,Ob as ee,Pa as l,Pb as te,Qb as D1,Rb as ne,Sa as j,Sb as oe,T as L,Ta as X,Tb as ae,Ua as G1,Ub as ie,Va as m,Vb as re,Wa as q,Wb as ce,X as r,Xa as k,Xb as le,Y as c,Ya as l1,Yb as se,Za as T1,Zb as me,a as S,ab as I,b as T,ba as V,bb as H,bc as pe,c as z,cb as W1,cc as fe,dc as ue,ec as _e,fc as V1,gb as E,hb as x,ia as s,ib as _,lb as C,oa as M,ob as W,pb as U1,qb as o1,ra as c1,ub as Y,vb as J,wb as B,xb as U,ya as A,yb as e1,za as $,zb as G}from"./chunk-EMUYCIYN.js";var Ce,ge=z(()=>{"use strict";Ce={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M378.9 80c-27.3 0-53 13.1-69 35.2l-34.4 47.6c-4.5 6.2-11.7 9.9-19.4 9.9s-14.9-3.7-19.4-9.9l-34.4-47.6c-16-22.1-41.7-35.2-69-35.2-47 0-85.1 38.1-85.1 85.1 0 49.9 32 98.4 68.1 142.3 41.1 50 91.4 94 125.9 120.3 3.2 2.4 7.9 4.2 14 4.2s10.8-1.8 14-4.2c34.5-26.3 84.8-70.4 125.9-120.3 36.2-43.9 68.1-92.4 68.1-142.3 0-47-38.1-85.1-85.1-85.1zM271 87.1c25-34.6 65.2-55.1 107.9-55.1 73.5 0 133.1 59.6 133.1 133.1 0 68.6-42.9 128.9-79.1 172.8-44.1 53.6-97.3 100.1-133.8 127.9-12.3 9.4-27.5 14.1-43.1 14.1s-30.8-4.7-43.1-14.1C176.4 438 123.2 391.5 79.1 338 42.9 294.1 0 233.7 0 165.1 0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1l15 20.7 15-20.7z"]}});function Qe(a,n){if(a&1&&Q(0,"fa-icon",2),a&2){let e=n.$implicit,t=l();g("icon",e?t.icons.filledHeart:t.icons.emptyHeart)}}var s1,Me=z(()=>{"use strict";C();F1();V1();ge();C();s1=class a{icons={filledHeart:ie,emptyHeart:Ce,heartPlus:re,heartMinus:pe};injuries=_.required();maxHealth=_.required();injuriesHearts=E(()=>Array.from({length:this.maxHealth()}).map((n,e)=>e>=this.injuries()));incrementInjuries=x();decreaseInjuries(){this.injuries()<=0||this.incrementInjuries.emit(-1)}increaseInjuries(){this.injuries()>=this.maxHealth()||this.incrementInjuries.emit(1)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew-injuries"]],inputs:{injuries:[1,"injuries"],maxHealth:[1,"maxHealth"]},outputs:{incrementInjuries:"incrementInjuries"},decls:8,vars:9,consts:[[1,"injuries"],["role","button","title","Remove one injury",3,"click","keydown.enter","keydown.space","tabindex","icon"],[3,"icon"],["role","button","title","Add one injury",3,"click","keydown.enter","keydown.space","tabindex","icon"]],template:function(e,t){e&1&&(d(0,"span"),m(1,"Injuries"),p(),d(2,"div",0)(3,"fa-icon",1),b("click",function(){return t.decreaseInjuries()})("keydown.enter",function(){return t.decreaseInjuries()})("keydown.space",function(){return t.decreaseInjuries()}),p(),v(4,Qe,1,1,"fa-icon",2,O),m(6),d(7,"fa-icon",3),b("click",function(){return t.increaseInjuries()})("keydown.enter",function(){return t.increaseInjuries()})("keydown.space",function(){return t.increaseInjuries()}),p()()),e&2&&(s(3),X("disabled",!t.injuries()),g("tabindex",0)("icon",t.icons.heartMinus),s(),w(t.injuriesHearts()),s(2),k(" ",t.injuries()," "),s(),X("disabled",t.injuries()>=t.maxHealth()),g("tabindex",0)("icon",t.icons.heartPlus))},dependencies:[t1],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:.5rem;margin-bottom:.5rem}[_nghost-%COMP%]   fa-icon[role=button][_ngcontent-%COMP%]{font-size:175%;margin:0 .5rem;color:var(--primary-600)}[_nghost-%COMP%]   fa-icon[role=button][_ngcontent-%COMP%]:not(.disabled){cursor:pointer}[_nghost-%COMP%]   fa-icon[role=button].disabled[_ngcontent-%COMP%]{opacity:.25}"],changeDetection:0})}});var m1,he=z(()=>{"use strict";C();C();m1=class a{mateName=_.required();comment=_.required();updateComment=x();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew-comment"]],inputs:{mateName:[1,"mateName"],comment:[1,"comment"]},outputs:{updateComment:"updateComment"},decls:5,vars:5,consts:[["txt",""],[3,"for"],["rows","6","placeholder","Comment",3,"input","id"]],template:function(e,t){if(e&1){let o=y();f(0,"label",1),m(1,"Comment"),u(),f(2,"textarea",2,0),P("input",function(){r(o);let h=j(3);return c(t.updateComment.emit(h.value))}),m(4),u()}e&2&&(D("htmlFor",T1("comment-",t.mateName())),s(2),D("id",T1("comment-",t.mateName())),s(2),q(t.comment()))},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:calc(100% - 1rem - var(--padding-box));max-width:80ch;margin:0 auto;border-radius:var(--border-radius-box);padding:var(--padding-box);font-family:Arial,sans-serif}"],changeDetection:0})}});function je(a,n){if(a&1){let e=y();f(0,"li"),m(1),f(2,"button",1),P("click",function(){let o=r(e).$index,i=l();return c(i.remove.emit(o))})("keydown.enter",function(){let o=r(e).$index,i=l();return c(i.remove.emit(o))})("keydown.space",function(){let o=r(e).$index,i=l();return c(i.remove.emit(o))}),m(3," - "),u()()}if(a&2){let e=n.$implicit;s(),k(" ",e," ")}}function Re(a,n){a&1&&(f(0,"li")(1,"small"),m(2,"none"),u()())}var d1,be=z(()=>{"use strict";C();C();d1=class a{title=_.required();items=_.required();add=x();remove=x();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew-items"]],inputs:{title:[1,"title"],items:[1,"items"]},outputs:{add:"add",remove:"remove"},decls:8,vars:2,consts:[["title","Add",3,"click","keydown.enter","keydown.space"],["title","Remove this card",3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&(f(0,"h4"),m(1),f(2,"button",0),P("click",function(){return t.add.emit()})("keydown.enter",function(){return t.add.emit()})("keydown.space",function(){return t.add.emit()}),m(3," + "),u()(),f(4,"ul"),v(5,je,4,1,"li",null,O,!1,Re,3,0,"li"),u()),e&2&&(s(),k(" ",t.title()," "),s(4),w(t.items()))},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:.5rem;margin-bottom:.5rem}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}"],changeDetection:0})}});function Be(a,n){if(a&1){let e=y();f(0,"li")(1,"button",0),P("click",function(){let o=r(e).$index,i=l();return c(i.decrement.emit(o))})("keydown.enter",function(){let o=r(e).$index,i=l();return c(i.decrement.emit(o))})("keydown.space",function(){let o=r(e).$index,i=l();return c(i.decrement.emit(o))}),m(2," - "),u(),m(3),f(4,"button",0),P("click",function(){let o=r(e).$index,i=l();return c(i.increment.emit(o))})("keydown.enter",function(){let o=r(e).$index,i=l();return c(i.increment.emit(o))})("keydown.space",function(){let o=r(e).$index,i=l();return c(i.increment.emit(o))}),m(5," + "),u()()}if(a&2){let e=n.$implicit;s(),D("disabled",!e),s(2),k(" ",e," "),s(),D("disabled",e>2)}}var p1,ye=z(()=>{"use strict";C();C();p1=class a{commandTokens=_.required();increment=x();decrement=x();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew-command-tokens"]],inputs:{commandTokens:[1,"commandTokens"]},outputs:{increment:"increment",decrement:"decrement"},decls:5,vars:0,consts:[[3,"click","keydown.enter","keydown.space","disabled"]],template:function(e,t){e&1&&(f(0,"span"),m(1,"Command tokens"),u(),f(2,"ul"),v(3,Be,6,3,"li",null,O),u()),e&2&&(s(3),w(t.commandTokens()))},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:.5rem;margin-bottom:.5rem}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}"],changeDetection:0})}});function Ge(a,n){if(a&1&&(f(0,"option",2),m(1),u()),a&2){let e=n.$implicit,t=n.$index,o=l();D("value",t)("selected",t===o.selectedPlayer()),s(),k(" ",e," ")}}var f1,ve=z(()=>{"use strict";C();C();f1=class a{players=_.required();selectedPlayer=_.required();playerChange=x();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew-player-selection"]],inputs:{players:[1,"players"],selectedPlayer:[1,"selectedPlayer"]},outputs:{playerChange:"playerChange"},decls:4,vars:0,consts:[["playerIndex",""],[3,"change"],[3,"value","selected"]],template:function(e,t){if(e&1){let o=y();f(0,"select",1,0),P("change",function(){r(o);let h=j(1);return c(t.playerChange.emit(h.value))}),v(2,Ge,2,3,"option",2,O),u()}e&2&&(s(2),w(t.players()))},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:.5rem;margin-bottom:.5rem}"],changeDetection:0})}});function We(a,n){if(a&1){let e=y();d(0,"app-crew-player-selection",5),b("playerChange",function(o){r(e);let i=l().$implicit,h=l();return c(h.updateControllingPlayer(i,o))}),p()}if(a&2){let e=l().$implicit,t=l();g("players",t.players())("selectedPlayer",e.playerIndex)}}function Ue(a,n){if(a&1){let e=y();d(0,"details")(1,"summary"),m(2),I(3,"titlecase"),p(),A(4,We,1,2,"app-crew-player-selection",0),d(5,"app-crew-command-tokens",1),b("increment",function(o){let i=r(e).$implicit,h=l();return c(h.incrementCommandToken(i,o,1))})("decrement",function(o){let i=r(e).$implicit,h=l();return c(h.incrementCommandToken(i,o,-1))}),p(),d(6,"app-crew-items",2),b("add",function(){let o=r(e).$implicit,i=l();return c(i.addEquipment(o))})("remove",function(o){let i=r(e).$implicit,h=l();return c(h.removeEquipment(i,o))}),p(),d(7,"app-crew-items",2),b("add",function(){let o=r(e).$implicit,i=l();return c(i.addXpCard(o))})("remove",function(o){let i=r(e).$implicit,h=l();return c(h.removeXpCard(i,o))}),p(),d(8,"app-crew-items",2),b("add",function(){let o=r(e).$implicit,i=l();return c(i.addAbilityCard(o))})("remove",function(o){let i=r(e).$implicit,h=l();return c(h.removeAbilityCard(i,o))}),p(),d(9,"app-crew-injuries",3),b("incrementInjuries",function(o){let i=r(e).$implicit,h=l();return c(h.incrementInjuries(i,o))}),p(),d(10,"app-crew-comment",4),b("updateComment",function(o){let i=r(e).$implicit,h=l();return c(h.updateComment(i,o))}),p()()}if(a&2){let e=n.$implicit,t=l();s(2),q(H(3,13,e.name)),s(2),$(t.players().length>1&&e.name!==t.CrewNames.CAPTAIN?4:-1),s(),g("commandTokens",e.commandTokens),s(),g("title","Equipment")("items",e.equipment),s(),g("title","Xp cards")("items",e.xpCards),s(),g("title","Ability cards")("items",e.abilityCards),s(),g("injuries",e.injuries)("maxHealth",e.maxHealth),s(),g("mateName",e.name)("comment",e.comment)}}var u1,we=z(()=>{"use strict";C();o1();U();a1();i1();Me();he();be();ye();ve();C();u1=class a{#e=L(B);CrewNames=K1;players=_.required();crew=_.required();crewMates=E(()=>this.crew().map(n=>T(S({},n),{injuriesHearts:Array.from({length:n.maxHealth}).map((e,t)=>t>=n.injuries)})));crewChange=x();updateControllingPlayer(n,e){this.crewChange.emit([...this.crew().filter(t=>t.name!==n.name),T(S({},n),{playerIndex:Number.parseInt(e)})])}incrementCommandToken(n,e,t){let o=[...n.commandTokens];o[e]+=t,this.crewChange.emit([...this.crew().filter(i=>i.name!==n.name),T(S({},n),{commandTokens:o})])}incrementInjuries(n,e){this.crewChange.emit([...this.crew().filter(t=>t.name!==n.name),T(S({},n),{injuries:n.injuries+e})])}addAbilityCard(n){this.#e.open(G,{data:{heading:"Enter ability card name",label:"Card name"}}).closed.subscribe(t=>{t&&this.#t(n,t)})}addXpCard(n){this.#e.open(G,{data:{heading:"Enter ability card name",label:"Card name"}}).closed.subscribe(t=>{t&&this.#n(n,t)})}removeXpCard(n,e){let t=n.xpCards.at(e);this.crewChange.emit([...this.crew().filter(o=>o.name!==n.name),T(S({},n),{xpCards:n.xpCards.filter(o=>o!==t)})])}removeAbilityCard(n,e){let t=n.abilityCards.at(e);this.crewChange.emit([...this.crew().filter(o=>o.name!==n.name),T(S({},n),{abilityCards:n.abilityCards.filter(o=>o!==t)})])}removeEquipment(n,e){let t=n.equipment.at(e);this.crewChange.emit([...this.crew().filter(o=>o.name!==n.name),T(S({},n),{equipment:n.equipment.filter(o=>o!==t)})])}addEquipment(n){this.#e.open(G,{data:{heading:"Enter equipment card name",label:"Card name"}}).closed.subscribe(t=>{t&&this.#o(n,t)})}updateComment(n,e){this.crewChange.emit([...this.#i(n),T(S({},n),{comment:e})])}#n(n,e){this.crewChange.emit([...this.crew().filter(t=>t.name!==n.name),T(S({},n),{xpCards:[...n.xpCards,e]})])}#t(n,e){this.crewChange.emit([...this.crew().filter(t=>t.name!==n.name),T(S({},n),{abilityCards:[...n.abilityCards,e]})])}#o(n,e){this.crewChange.emit([...this.crew().filter(t=>t.name!==n.name),T(S({},n),{equipment:[...n.equipment,e]})])}#i(n){return this.crew().filter(e=>e.name!==n.name)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew"]],inputs:{players:[1,"players"],crew:[1,"crew"]},outputs:{crewChange:"crewChange"},decls:2,vars:0,consts:[[3,"players","selectedPlayer"],[3,"increment","decrement","commandTokens"],[3,"add","remove","title","items"],[3,"incrementInjuries","injuries","maxHealth"],[3,"updateComment","mateName","comment"],[3,"playerChange","players","selectedPlayer"]],template:function(e,t){e&1&&v(0,Ue,11,15,"details",null,O),e&2&&w(t.crew())},dependencies:[s1,m1,d1,p1,f1,W],styles:['[_nghost-%COMP%]{display:block;padding:1rem}[_nghost-%COMP%]   details[_ngcontent-%COMP%]{padding:var(--padding-box);border-radius:var(--border-radius-box);margin:.5rem 0;background-color:var(--secondary-600);color:var(--secondary-100);background-color:var(--primary-800)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .5s;padding:var(--padding-box);border-radius:var(--border-radius-box)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::marker{content:""}[_nghost-%COMP%]   details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:after{content:"x";position:absolute;right:var(--padding-box)}[_nghost-%COMP%]   details[open][_ngcontent-%COMP%]{background-color:var(--primary-800)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:active{color:var(--primary-600)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   app-crew-player-selection[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   app-crew-command-tokens[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   app-crew-items[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   app-crew-injuries[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   app-crew-comment[_ngcontent-%COMP%]{margin-top:1rem}'],changeDetection:0})}});var _1,xe=z(()=>{"use strict";_1=class{static clamp(n,e={min:0,max:99}){if(e.min>=e.max)throw new Error("NumberUtils.clamp expects min value to be smaller than max value");return Math.max(Math.min(n,e.max),e.min)}}});function Ke(a,n){if(a&1){let e=y();d(0,"div")(1,"div",1),Q(2,"fa-icon",2),m(3),I(4,"titlecase"),p(),d(5,"p")(6,"button",3),b("click",function(){let o=r(e).$implicit,i=l();return c(i.increment(o,-1))})("keydown.enter",function(){let o=r(e).$implicit,i=l();return c(i.increment(o,-1))})("keydown.space",function(){let o=r(e).$implicit,i=l();return c(i.increment(o,-1))}),m(7," - "),p(),d(8,"span"),m(9),p(),d(10,"button",3),b("click",function(){let o=r(e).$implicit,i=l();return c(i.increment(o,1))})("keydown.enter",function(){let o=r(e).$implicit,i=l();return c(i.increment(o,1))})("keydown.space",function(){let o=r(e).$implicit,i=l();return c(i.increment(o,1))}),m(11," + "),p(),d(12,"button",4),b("click",function(){let o=r(e).$implicit,i=l();return c(i.reset(o))})("keydown.enter",function(){let o=r(e).$implicit,i=l();return c(i.reset(o))})("keydown.space",function(){let o=r(e).$implicit,i=l();return c(i.reset(o))}),m(13," x "),p()()()}if(a&2){let e=n.$implicit,t=l();G1(e),s(2),g("icon",t.icons[e]),s(),k(" ",H(4,7,e)," "),s(3),g("disabled",t.items()[e]<1),s(3),q(t.items()[e]),s(),g("disabled",t.items()[e]>=t.maxItemCount)}}var C1,ze=z(()=>{"use strict";C();o1();V1();F1();xe();C();C1=class a{maxItemCount=99;itemTypes=["xp","coins","artefacts","grain","meat","vegetables","materials"];icons={xp:me,grain:ce,coins:_e,artefacts:fe,meat:de,vegetables:le,materials:se};items=_.required();itemsChanged=x();increment(n,e){this.itemsChanged.emit(T(S({},this.items()),{[n]:_1.clamp(this.items()[n]+e,{min:0,max:this.maxItemCount})}))}reset(n){this.itemsChanged.emit(T(S({},this.items()),{[n]:0}))}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-items"]],inputs:{items:[1,"items"]},outputs:{itemsChanged:"itemsChanged"},decls:2,vars:0,consts:[[3,"class"],[1,"label"],[3,"icon"],[3,"click","keydown.enter","keydown.space","disabled"],[3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&v(0,Ke,14,9,"div",0,O),e&2&&w(t.itemTypes)},dependencies:[t1,W],styles:["div[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;width:100%;margin:1rem}div[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-block;width:110px}div[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:.5rem;opacity:.7}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700);font-size:small;padding:3px 8px}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-left:2rem;background-color:var(--danger-500);font-size:smaller}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type:hover{background-color:var(--danger-000)}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:2rem;text-align:center}"],changeDetection:0})}});function Ze(a,n){if(a&1&&Q(0,"app-badge",1),a&2){let e=l();g("mainText",e.badge().mainText)("subText",e.badge().subText)}}function Ye(a,n){if(a&1){let e=y();d(0,"li")(1,"button",3),b("click",function(){let o=r(e).$implicit,i=l(2);return c(i.accept(o.id))})("keydown.enter",function(){let o=r(e).$implicit,i=l(2);return c(i.accept(o.id))})("keydown.space",function(){let o=r(e).$implicit,i=l(2);return c(i.accept(o.id))}),m(2),p()()}if(a&2){let e=n.$implicit;s(2),k(" ",e.name," ")}}function Je(a,n){a&1&&m(0," nothing found ")}function e2(a,n){if(a&1&&m(0),a&2){let e=l(2);k(" + ",e.quests().length-e.maxQuests," ")}}function t2(a,n){if(a&1&&(d(0,"ul"),v(1,Ye,3,1,"li",null,Xe,!1,Je,1,0),I(4,"slice"),A(5,e2,1,1),p()),a&2){let e=l();s(),w(W1(4,2,e.quests(),0,e.maxQuests)),s(4),$(e.quests().length>e.maxQuests?5:-1)}}var Xe,Z,I1=z(()=>{"use strict";C();U();o1();a1();C();Xe=(a,n)=>n.id;Z=class a{#e=L(Y);#n=L(J);maxQuests=8;#t=V([]);#o=V("");#i=V(void 0);#a=V("");quests=E(()=>this.#t()?.filter(n=>!this.#o()||n.name?.match(new RegExp(this.#o()))?.length));badge=this.#i.asReadonly();heading=this.#a.asReadonly();ngOnInit(){this.#t.set(this.#n.cards),this.#i.set(this.#n.badge),this.#a.set(this.#n.heading)}cancel(){this.#e.close()}accept(n){this.#e.close(this.#t().find(e=>e.id===n)?.id)}updateSearchTerm(n){this.#o.set(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-quest-finder-modal"]],decls:14,vars:3,consts:[["input",""],[3,"mainText","subText"],["id","inputField","type","text",3,"input"],[3,"click","keydown.enter","keydown.space"]],template:function(e,t){if(e&1){let o=y();d(0,"header")(1,"h1"),m(2),p(),A(3,Ze,1,2,"app-badge",1),p(),d(4,"main")(5,"label"),m(6," Keyword "),d(7,"input",2,0),b("input",function(){r(o);let h=j(8);return c(t.updateSearchTerm(h.value))}),p()(),d(9,"div"),A(10,t2,6,6,"ul"),p()(),d(11,"footer")(12,"button",3),b("click",function(){return r(o),c(t.cancel())})("keydown.enter",function(){return r(o),c(t.cancel())})("keydown.space",function(){return r(o),c(t.cancel())}),m(13," Cancel "),p()()}if(e&2){let o=j(8);s(2),q(t.heading()),s(),$(t.badge()?3:-1),s(7),$(o.value?10:-1)}},dependencies:[e1,U1],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;align-items:stretch;min-height:20vh;justify-content:space-between}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;width:100%;padding-bottom:.5rem}[_nghost-%COMP%]   main[_ngcontent-%COMP%]{flex-grow:1;min-height:20vh}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-style:italic;display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;max-width:70%;margin:0 auto}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:.25rem}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;flex-flow:row wrap;align-items:center;gap:.25rem;max-width:100%}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700);text-transform:uppercase}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}"],changeDetection:0})}});var Pe=z(()=>{"use strict";I1()});var n1,A1=z(()=>{"use strict";C();n1=class a{transform(n){return n.toString().toLowerCase().split("_").map(e=>e[0].toUpperCase()+e.slice(1)).join(" ")}static \u0275fac=function(e){return new(e||a)};static \u0275pipe=c1({name:"humanReadableTag",type:a,pure:!0})}});var K,g1=z(()=>{"use strict";i1();C();K=class a{transform(n){switch(n){case"COMBAT":return"\u2694\uFE0F";case"DANGER":return"\u2620\uFE0F";case"TOTEM_LOCATION":return"\u{1F3C6}";case"DO_NOT_VISIT":return"\u{1F6AB}";case"RICH_REWARDS":return"\u{1F4B0}";case"TRADE_OPPORTUNITY":return"\u2696\uFE0F";default:return"??"}}static \u0275fac=function(e){return new(e||a)};static \u0275pipe=c1({name:"tagIcon",type:a,pure:!0})}});function n2(a,n){if(a&1){let e=y();f(0,"button",1),P("click",function(){let o=r(e).$implicit,i=l(2);return c(i.add(o))})("keydown.enter",function(){let o=r(e).$implicit,i=l(2);return c(i.add(o))})("keydown.space",function(){let o=r(e).$implicit,i=l(2);return c(i.add(o))}),m(1),I(2,"humanReadableTag"),I(3,"tagIcon"),u()}if(a&2){let e=n.$implicit;s(),l1(" ",H(2,2,e)," ",H(3,4,e)," ")}}function o2(a,n){if(a&1&&v(0,n2,4,6,"button",null,O),a&2){let e=l();w(e.unusedTags())}}var M1,$1=z(()=>{"use strict";C();U();A1();g1();C();M1=class a{data=L(J);#e=L(Y);#n=V([]);#t=V([]);unusedTags=E(()=>(this.#t()??[]).filter(n=>!this.#n().includes(n)));ngOnInit(){this.#n.set(this.data.currentTags),this.#t.set(this.data.allTags)}add(n){this.#e.close(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location-tag-selection-modal"]],decls:8,vars:1,consts:[[1,"cancel",3,"click","keydown.enter","keydown.space"],[3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&(f(0,"header")(1,"h1"),m(2,"Select a Tag"),u()(),f(3,"main"),A(4,o2,2,0),u(),f(5,"footer")(6,"button",0),P("click",function(){return t.add(void 0)})("keydown.enter",function(){return t.add(void 0)})("keydown.space",function(){return t.add(void 0)}),m(7," Cancel "),u()()),e&2&&(s(4),$(t.unusedTags()?4:-1))},dependencies:[K,n1],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;gap:1rem}[_nghost-%COMP%]   main[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row wrap;align-items:center;justify-content:center;padding:1rem 0;gap:1rem}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{display:flex;flex-flow:row-reverse}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   button.cancel[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   button.cancel[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button.cancel[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button.cancel[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}"],changeDetection:0})}});function a2(a,n){if(a&1){let e=y();f(0,"button",0),P("click",function(){let o=r(e).$implicit,i=l();return c(i.remove(o))})("keydown.enter",function(){let o=r(e).$implicit,i=l();return c(i.remove(o))})("keydown.space",function(){let o=r(e).$implicit,i=l();return c(i.remove(o))}),m(1),I(2,"humanReadableTag"),I(3,"tagIcon"),u()}if(a&2){let e=n.$implicit;s(),l1(" ",H(2,2,e)," ",H(3,4,e)," ")}}function i2(a,n){a&1&&(f(0,"small"),m(1,"none"),u())}var h1,H1=z(()=>{"use strict";C();A1();U();r1();$1();g1();C();h1=class a{#e=L(B);currenTags=_.required();allTags=_.required();tagChange=x();add(){this.#e.open(M1,{data:{currentTags:this.currenTags(),allTags:this.allTags()}}).closed.pipe(R(1)).subscribe(e=>{e&&this.tagChange.emit([...this.currenTags(),e])})}remove(n){this.tagChange.emit([...this.currenTags().filter(e=>e!==n)])}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location-tags"]],inputs:{currenTags:[1,"currenTags"],allTags:[1,"allTags"]},outputs:{tagChange:"tagChange"},decls:8,vars:1,consts:[[3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&(f(0,"h4"),m(1,"Tags"),u(),f(2,"div"),v(3,a2,4,6,"button",null,O,!1,i2,2,0,"small"),f(6,"button",0),P("click",function(){return t.add()})("keydown.enter",function(){return t.add()})("keydown.space",function(){return t.add()}),m(7," + "),u()()),e&2&&(s(3),w(t.currenTags()))},dependencies:[n1,K],styles:["[_nghost-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;flex-flow:row wrap;font-size:smaller;max-width:100%;gap:.25rem}[_nghost-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   div[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   div[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}"],changeDetection:0})}});function c2(a,n){a&1&&(f(0,"span"),m(1,"\u{1F5F8}"),u())}function l2(a,n){if(a&1){let e=y();f(0,"button",2),P("click",function(){let o=r(e).$implicit,i=l(2);return c(i.delete(o.id))})("keydown.enter",function(){let o=r(e).$implicit,i=l(2);return c(i.delete(o.id))})("keydown.space",function(){let o=r(e).$implicit,i=l(2);return c(i.delete(o.id))}),A(1,c2,2,0,"span"),m(2),u()}if(a&2){let e=n.$implicit;X("available",e.available),s(),$(e.available?1:-1),s(),k(" ",e.name," ")}}function s2(a,n){a&1&&(f(0,"small"),m(1,"none"),u())}function m2(a,n){if(a&1){let e=y();f(0,"h3"),m(1),f(2,"button",0),P("click",function(){r(e);let o=l();return c(o.add())})("keydown.enter",function(){r(e);let o=l();return c(o.add())})("keydown.space",function(){r(e);let o=l();return c(o.add())}),m(3," + "),u()(),f(4,"div"),v(5,l2,3,4,"button",1,r2,!1,s2,2,0,"small"),u()}if(a&2){let e=l();s(),k(" ",e.heading()," "),s(4),w(e.quests())}}var r2,b1,Q1=z(()=>{"use strict";C();C();r2=(a,n)=>n.id;b1=class a{quests=_.required();heading=_.required();addQuest=x();deleteQuest=x();add(){this.addQuest.emit()}delete(n){this.deleteQuest.emit(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location-section"]],inputs:{quests:[1,"quests"],heading:[1,"heading"]},outputs:{addQuest:"addQuest",deleteQuest:"deleteQuest"},decls:1,vars:1,consts:[[3,"click","keydown.enter","keydown.space"],[1,"requirement",3,"available"],[1,"requirement",3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&A(0,m2,8,2),e&2&&$(t.quests()?0:-1)},styles:["h3[_ngcontent-%COMP%]{font-size:.925rem;font-weight:700;display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;min-width:100%}div[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;gap:.25rem}button.requirement[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-transform:uppercase}button.requirement[disabled][_ngcontent-%COMP%]{cursor:not-allowed}button.requirement[_ngcontent-%COMP%]:not([disabled]):hover, button.requirement[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}button[_ngcontent-%COMP%]:not(.requirement){cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}button[_ngcontent-%COMP%]:not(.requirement)[disabled]{cursor:not-allowed}button[_ngcontent-%COMP%]:not(.requirement):not([disabled]):hover, button[_ngcontent-%COMP%]:not(.requirement):not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}button[_ngcontent-%COMP%]:not(.requirement)[disabled]{background-color:var(--disabled-000)}"],changeDetection:0})}});function d2(a,n){if(a&1&&(f(0,"span",0),I(1,"titlecase"),m(2),I(3,"tagIcon"),u()),a&2){let e=n.$implicit;D("title",H(1,2,e)),s(2),k(" ",H(3,4,e)," ")}}var y1,Le=z(()=>{"use strict";C();o1();g1();C();y1=class a{tags=_.required();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location-tags-preview"]],inputs:{tags:[1,"tags"]},decls:3,vars:0,consts:[[3,"title"]],template:function(e,t){e&1&&(f(0,"div"),v(1,d2,4,6,"span",0,O),u()),e&2&&(s(),w(t.tags()))},dependencies:[K,W],encapsulation:2,changeDetection:0})}});function p2(a,n){if(a&1){let e=y();f(0,"span",1),P("click",function(){let o=r(e).$index,i=l();return c(i.editComment.emit(o))})("keydown.enter",function(){let o=r(e).$index,i=l();return c(i.editComment.emit(o))})("keydown.space",function(){let o=r(e).$index,i=l();return c(i.editComment.emit(o))}),m(1),u(),f(2,"button",2),P("click",function(){let o=r(e).$index,i=l();return c(i.deleteComment.emit(o))})("keydown.enter",function(){let o=r(e).$index,i=l();return c(i.deleteComment.emit(o))})("keydown.space",function(){let o=r(e).$index,i=l();return c(i.deleteComment.emit(o))}),m(3," x "),u()}if(a&2){let e=n.$implicit;D("tabIndex",0),s(),k(" ",e," ")}}function f2(a,n){a&1&&(f(0,"small"),m(1,"none"),u())}var v1,ke=z(()=>{"use strict";C();C();v1=class a{comments=_.required();addComment=x();deleteComment=x();editComment=x();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location-comments"]],inputs:{comments:[1,"comments"]},outputs:{addComment:"addComment",deleteComment:"deleteComment",editComment:"editComment"},decls:7,vars:1,consts:[[3,"click","keydown.enter","keydown.space"],[3,"click","keydown.enter","keydown.space","tabindex"],[1,"delete",3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&(f(0,"h3"),m(1," Comments "),f(2,"button",0),P("click",function(){return t.addComment.emit()})("keydown.enter",function(){return t.addComment.emit()})("keydown.space",function(){return t.addComment.emit()}),m(3," + "),u()(),v(4,p2,4,2,null,null,O,!1,f2,2,0,"small")),e&2&&(s(4),w(t.comments()))},styles:["h3[_ngcontent-%COMP%]{font-size:.925rem;font-weight:700;display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;min-width:100%}button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}button[_ngcontent-%COMP%]:not([disabled]):hover, button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}button.delete[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}button.delete[disabled][_ngcontent-%COMP%]{cursor:not-allowed}button.delete[_ngcontent-%COMP%]:not([disabled]):hover, button.delete[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}"],changeDetection:0})}});function u2(a,n){if(a&1&&(f(0,"span"),m(1),u()),a&2){let e=l();s(),q(e.checkedLabel())}}function _2(a,n){if(a&1&&(f(0,"span"),m(1),u()),a&2){let e=l();s(),q(e.uncheckedLabel())}}var w1,Oe=z(()=>{"use strict";C();C();w1=class a{isChecked=_.required();checkedLabel=_.required();uncheckedLabel=_("");id=V("switch"+crypto.randomUUID());static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-switch"]],inputs:{isChecked:[1,"isChecked"],checkedLabel:[1,"checkedLabel"],uncheckedLabel:[1,"uncheckedLabel"]},decls:4,vars:5,consts:[["type","checkbox",3,"id","checked"],[3,"for","title"]],template:function(e,t){e&1&&(B1(0,"input",0),f(1,"label",1),A(2,u2,2,1,"span")(3,_2,2,1,"span"),u()),e&2&&(D("id",t.id())("checked",t.isChecked()),s(),D("htmlFor",t.id())("title",t.isChecked()?t.checkedLabel():t.uncheckedLabel()),s(),$(t.isChecked()?2:3))},styles:['[_nghost-%COMP%]   input[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{left:3.75rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:var(--primary-600)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 2.375rem 0 0}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;position:relative;width:calc(2*(3rem + 1px));height:calc(2.25rem + 2px);background-color:#00000040;border-radius:2.25rem;transition:all .3s;display:flex;align-items:center}[_nghost-%COMP%]   label[_ngcontent-%COMP%]:after{content:"";position:absolute;width:2.25rem;height:2.25rem;border-radius:50%;background-color:var(--primary-000);top:1px;left:1px;transition:all .3s}[_nghost-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin:0 0 0 2.375rem;width:3.625rem;text-align:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}'],changeDetection:0})}});var Se,x1,Te=z(()=>{"use strict";C();U();r1();i1();a1();Pe();oe();H1();Q1();Le();ke();Oe();C();Se=()=>[],x1=class a{#e=L(B);availableLocationTags=Object.values(q1);questCards=_.required();location=_.required();availableQuests=_.required();requirements=E(()=>this.location().requires.map(n=>({id:n,name:D1.get(n),available:!!this.availableQuests().find(e=>e.id===n)})));rewards=E(()=>(this.location().rewards??[]).map(n=>({id:n,name:D1.get(n),available:!!this.availableQuests().find(e=>e.id===n)})));locationChange$=x();deleteComment(n){if(!confirm(`Are you sure you want to delete this comment for location ${this.location().id}?`))return;let t=this.location();this.location().comments.splice(n,1),this.locationChange$.emit(t)}editComment(n){let e=this.location()?.comments?.at(n);if(!e)return;this.#e.open(G,{data:{badge:{mainText:this.location().id,subText:this.location().page,caption:this.location().title},heading:"Edit Comment",value:e,label:"Comment"}}).closed.pipe(R(1)).subscribe(o=>{if(!o)return;let i=this.location();i.comments?.splice(n,1,o),this.locationChange$.emit(i)})}addComment(){this.#e.open(G,{data:{badge:{mainText:this.location().id,subText:this.location().page,caption:this.location().title},heading:"Add Comment",label:"Comment"}}).closed.pipe(R(1)).subscribe(e=>{e&&this.locationChange$.emit(T(S({},this.location()),{comments:[...this.location()?.comments??[],e]}))})}addRequirement(){this.#e.open(Z,{data:{cards:this.questCards().filter(e=>!this.location().requires.includes(e.id)),badge:{mainText:this.location().id,subText:"p. "+this.location().page},heading:"Add Requirement",label:"Requirement"}}).closed.pipe(R(1)).subscribe(e=>{!e||this.location().requires.includes(e)||this.locationChange$.emit(T(S({},this.location()),{requires:[...this.location().requires??[],e]}))})}deletedRequirement(n){confirm(`Are you sure you want to delete this requirement for location ${this.location().id}?`)&&this.locationChange$.emit(T(S({},this.location()),{requires:[...this.location().requires.filter(t=>t!==n)]}))}setDoneStatus(n){this.locationChange$.emit(T(S({},this.location()),{done:n}))}addReward(){this.#e.open(Z,{data:{cards:this.questCards().filter(e=>!this.location().rewards.includes(e.id)),badge:{mainText:this.location().id,subText:"p. "+this.location().page},heading:"Add Reward",label:"Reward"}}).closed.pipe(R(1)).subscribe(e=>{e&&this.locationChange$.emit(T(S({},this.location()),{rewards:[...this.location().rewards??[],e]}))})}deletedReward(n){confirm(`Are you sure you want to delete this reward for location ${this.location().id}?`)&&this.locationChange$.emit(T(S({},this.location()),{rewards:this.location().rewards.filter(t=>t!==n)}))}updateTags(n){this.locationChange$.emit(T(S({},this.location()),{tags:n}))}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location"]],inputs:{questCards:[1,"questCards"],location:[1,"location"],availableQuests:[1,"availableQuests"]},outputs:{locationChange$:"locationChange$"},decls:18,vars:17,consts:[["switchElement",""],[3,"mainText","subText","done"],[1,"name-and-tags"],[3,"tags"],[1,"content"],[1,"req-rew"],[3,"addQuest","deleteQuest","heading","quests"],[3,"addComment","deleteComment","editComment","comments"],[3,"tagChange","allTags","currenTags"],["tabindex","0",3,"click","keydown.enter","keydown.space","checkedLabel","uncheckedLabel","isChecked"]],template:function(e,t){if(e&1){let o=y();d(0,"details")(1,"summary"),Q(2,"app-badge",1),d(3,"div",2),m(4),Q(5,"app-location-tags-preview",3),p()(),d(6,"div",4)(7,"div",5)(8,"section")(9,"app-location-section",6),b("addQuest",function(){return r(o),c(t.addRequirement())})("deleteQuest",function(h){return r(o),c(t.deletedRequirement(h))}),p()(),d(10,"section")(11,"app-location-section",6),b("addQuest",function(){return r(o),c(t.addReward())})("deleteQuest",function(h){return r(o),c(t.deletedReward(h))}),p()()(),d(12,"section")(13,"app-location-comments",7),b("addComment",function(){return r(o),c(t.addComment())})("deleteComment",function(h){return r(o),c(t.deleteComment(h))})("editComment",function(h){return r(o),c(t.editComment(h))}),p()(),d(14,"section")(15,"app-location-tags",8),b("tagChange",function(h){return r(o),c(t.updateTags(h))}),p(),d(16,"app-switch",9,0),b("click",function(){r(o);let h=j(17);return c(t.setDoneStatus(!h.isChecked()))})("keydown.enter",function(){r(o);let h=j(17);return c(t.setDoneStatus(!h.isChecked()))})("keydown.space",function(){r(o);let h=j(17);return c(t.setDoneStatus(!h.isChecked()))}),p()()()()}e&2&&(s(2),g("mainText",""+t.location().id)("subText","p. "+t.location().page)("done",t.location().done),s(2),k(" ",t.location().title," "),s(),g("tags",t.location().tags),s(4),g("heading","Requirements")("quests",t.requirements()),s(2),g("heading","Rewards")("quests",t.rewards()),s(2),g("comments",t.location().comments??N1(15,Se)),s(2),g("allTags",t.availableLocationTags)("currenTags",t.location().tags??N1(16,Se)),s(),g("checkedLabel","done")("uncheckedLabel","not done")("isChecked",!!t.location().done))},dependencies:[e1,y1,b1,h1,v1,w1],styles:['[_nghost-%COMP%]{display:block;margin-top:.5rem;position:relative}[_nghost-%COMP%]   details[_ngcontent-%COMP%]{padding:var(--padding-box);border-radius:var(--border-radius-box);margin:.5rem 0;background-color:var(--secondary-600);color:var(--secondary-100);background-color:var(--primary-800)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .5s;padding:var(--padding-box);border-radius:var(--border-radius-box)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::marker{content:""}[_nghost-%COMP%]   details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:after{content:"x";position:absolute;right:var(--padding-box)}[_nghost-%COMP%]   details[open][_ngcontent-%COMP%]{background-color:var(--primary-800)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:active{color:var(--primary-600)}[_nghost-%COMP%]   details[open][_ngcontent-%COMP%]{padding-bottom:2.5rem}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]   .name-and-tags[_ngcontent-%COMP%]{margin:0 60px}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   .req-rew[_ngcontent-%COMP%]{display:flex;gap:.5rem}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   .req-rew[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{width:calc(50% - .5rem)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   .req-rew[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]:first-child{border-right:1px solid var(--disabled-000)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:.5rem}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   section.done-status[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.reward[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.requirement[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important;text-transform:uppercase;margin:0 .25rem .25rem 0}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.reward[disabled][_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.requirement[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.reward[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.reward[_ngcontent-%COMP%]:not([disabled]):active, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.requirement[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.requirement[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.reward.available[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.requirement.available[_ngcontent-%COMP%]{color:var(--secondary-500)}[_nghost-%COMP%]   app-badge[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}[_nghost-%COMP%]   app-location-tags[_ngcontent-%COMP%]{padding-bottom:1rem}[_nghost-%COMP%]   app-switch[_ngcontent-%COMP%]{position:absolute;right:.5rem}'],changeDetection:0})}});function C2(a,n){if(a&1){let e=y();f(0,"button",1),P("click",function(){let o=r(e).$implicit,i=l();return c(i.selectionChange.emit(o))})("keydown.enter",function(){let o=r(e).$implicit,i=l();return c(i.selectionChange.emit(o))})("keydown.space",function(){let o=r(e).$implicit,i=l();return c(i.selectionChange.emit(o))}),m(1),u()}if(a&2){let e=n.$implicit,t=l();X("selected",e===t.selectedPage()),s(),k(" ",e," ")}}var z1,Ne=z(()=>{"use strict";C();C();z1=class a{pages=_.required();selectedPage=_.required();selectionChange=x();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-page-selection"]],inputs:{pages:[1,"pages"],selectedPage:[1,"selectedPage"]},outputs:{selectionChange:"selectionChange"},decls:2,vars:0,consts:[[3,"selected"],[3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&v(0,C2,2,3,"button",0,R1),e&2&&w(t.pages())},styles:["[_nghost-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center;gap:.5rem;max-width:500px;margin:0 auto}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{min-width:3rem!important}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not(.selected){cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not(.selected)[disabled]{cursor:not-allowed}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not(.selected):not([disabled]):hover, [_nghost-%COMP%]   button[_ngcontent-%COMP%]:not(.selected):not([disabled]):active{background-color:var(--primary-700)!important}[_nghost-%COMP%]   button.selected[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   button.selected[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button.selected[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button.selected[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   button.selected[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}"],changeDetection:0})}});function g2(a,n){if(a&1){let e=y();d(0,"p")(1,"span"),m(2),p(),d(3,"button",1),b("click",function(){let o=r(e).$index,i=l();return c(i.removePlayer(o))})("keydown.enter",function(){let o=r(e).$index,i=l();return c(i.removePlayer(o))})("keydown.space",function(){let o=r(e).$index,i=l();return c(i.removePlayer(o))}),Q(4,"fa-icon",2),p()()}if(a&2){let e=n.$implicit,t=l();s(2),q(e),s(),g("disabled",t.players().length<=t.minPlayers),s(),g("icon",t.faMinus)}}var P1,Fe=z(()=>{"use strict";C();U();r1();F1();V1();a1();C();P1=class a{#e=L(B);minPlayers=1;maxPlayers=6;faMinus=ae;faPlus=ue;players=_([]);playerChange=x();addPlayer(){if(this.players().length>=this.maxPlayers)return;this.#e.open(G,{data:{heading:"Enter player name",value:"Player "+(this.players().length+1),label:"Player name"}}).closed.pipe(R(1)).subscribe(e=>{e&&this.playerChange.emit([...this.players(),e])})}removePlayer(n){this.players().length<=this.minPlayers||this.playerChange.emit(this.players().filter((e,t)=>t!==n))}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-players"]],inputs:{players:[1,"players"]},outputs:{playerChange:"playerChange"},decls:4,vars:1,consts:[[3,"click","keydown.enter","keydown.space","disabled"],[1,"delete",3,"click","keydown.enter","keydown.space","disabled"],[3,"icon"]],template:function(e,t){e&1&&(v(0,g2,5,3,"p",null,O),d(2,"button",0),b("click",function(){return t.addPlayer()})("keydown.enter",function(){return t.addPlayer()})("keydown.space",function(){return t.addPlayer()}),m(3,` + Add Player
`),p()),e&2&&(w(t.players()),s(2),g("disabled",t.players().length>=t.maxPlayers))},dependencies:[t1],styles:["[_nghost-%COMP%]{display:block;padding:0 1rem}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   button.delete[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   button.delete[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button.delete[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button.delete[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}[_nghost-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:16ch}"],changeDetection:0})}});var L1,qe=z(()=>{"use strict";C();C();L1=class a{quest=_.required();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-quest"]],inputs:{quest:[1,"quest"]},decls:5,vars:2,template:function(e,t){e&1&&(f(0,"button")(1,"small"),m(2),u(),f(3,"strong"),m(4),u()()),e&2&&(s(2),q(t.quest().id),s(2),q(t.quest().name))},styles:["button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important;text-transform:uppercase}button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}button[_ngcontent-%COMP%]:not([disabled]):hover, button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}button[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-right:.25rem;font-weight:400}"],changeDetection:0})}});function h2(a,n){if(a&1&&Q(0,"app-badge",1),a&2){let e=n.$implicit;g("mainText",e.id.toString())("subText","p"+e.page.toString())}}function b2(a,n){a&1&&(d(0,"small"),m(1,"no matches"),p())}function y2(a,n){if(a&1&&Q(0,"app-badge",1),a&2){let e=n.$implicit;g("mainText",e.id.toString())("subText","p"+e.page.toString())}}function v2(a,n){a&1&&(d(0,"small"),m(1,"unknown"),p())}function w2(a,n){if(a&1){let e=y();d(0,"header")(1,"h1"),m(2),p(),d(3,"h2"),m(4),p()(),d(5,"main")(6,"p"),m(7,"Required in:"),p(),d(8,"p",0),v(9,h2,1,2,"app-badge",1,O,!1,b2,2,0,"small"),p(),d(12,"p"),m(13,"Rewarded in"),p(),d(14,"p",0),v(15,y2,1,2,"app-badge",1,M2,!1,v2,2,0,"small"),p()(),d(18,"footer")(19,"button",2),b("click",function(){r(e);let o=l();return c(o.delete())})("keydown.enter",function(){r(e);let o=l();return c(o.delete())})("keydown.space",function(){r(e);let o=l();return c(o.delete())}),m(20," Delete "),p(),d(21,"button",2),b("click",function(){r(e);let o=l();return c(o.close())})("keydown.enter",function(){r(e);let o=l();return c(o.close())})("keydown.space",function(){r(e);let o=l();return c(o.close())}),m(22," Close "),p()()}if(a&2){let e=l();s(2),q(e.quest().name),s(2),q(e.quest().id),s(5),w(e.matchingLocations()),s(6),w(e.rewardLocations())}}var M2,k1,Ee=z(()=>{"use strict";C();U();a1();C();M2=(a,n)=>n.id;k1=class a{#e=L(J);#n=L(Y);locations=V([]);quest=V(void 0);matchingLocations=E(()=>this.locations().filter(n=>n.requires.includes(this.quest().id)));rewardLocations=E(()=>this.locations().filter(n=>n.rewards.includes(this.quest().id)));ngOnInit(){this.locations.set(this.#e.locations),this.quest.set(this.#e.quest)}close(){this.#n.close()}delete(){this.#n.close({delete:!0})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-quest-details-modal"]],decls:1,vars:1,consts:[[1,"badges"],[3,"mainText","subText"],[3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&A(0,w2,23,4),e&2&&$(t.quest()?0:-1)},dependencies:[e1],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;min-height:100%}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-start;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:uppercase}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:small}[_nghost-%COMP%]   main[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-evenly}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{display:flex;flex-flow:row-reverse nowrap;justify-content:space-between}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type[disabled]{cursor:not-allowed}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type:not([disabled]):hover, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type:not([disabled]):active{background-color:var(--primary-700)!important}"],changeDetection:0})}});function x2(a,n){if(a&1&&(f(0,"option",6),m(1),I(2,"titlecase"),u()),a&2){let e=n.$implicit,t=l();D("value",e)("selected",e===t.room()),s(),k(" ",H(2,3,e)," ")}}var O1,De=z(()=>{"use strict";C();o1();i1();C();O1=class a{locationOptions=Object.values(E1);room=_.required();location=_.required();roomChange=x();locationChange=x();updateLocation(n){this.locationChange.emit(n)}updateRoom(n){this.roomChange.emit(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-ship"]],inputs:{room:[1,"room"],location:[1,"location"]},outputs:{roomChange:"roomChange",locationChange:"locationChange"},decls:12,vars:1,consts:[["shipLocation",""],["roomSelection",""],["for","ship-location"],["type","number","id","ship-location","inputmode","numeric",3,"change","value"],["for","ship-room"],[3,"change"],[3,"value","selected"]],template:function(e,t){if(e&1){let o=y();f(0,"p")(1,"label",2),m(2,"Ship Location"),u(),f(3,"input",3,0),P("change",function(){r(o);let h=j(4);return c(t.updateLocation(h.valueAsNumber))}),u()(),f(5,"p")(6,"label",4),m(7,"Last used Room"),u(),f(8,"select",5,1),P("change",function(){r(o);let h=j(9);return c(t.updateRoom(h.value))}),v(10,x2,3,5,"option",6,O),u()()}e&2&&(s(3),D("value",t.location()),s(7),w(t.locationOptions))},dependencies:[W],styles:["[_nghost-%COMP%]{display:block;padding:0 1rem}[_nghost-%COMP%]   p[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;width:8rem}[_nghost-%COMP%]   p[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   p[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:200px;padding:.5rem}[_nghost-%COMP%]   p[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:220px}"],changeDetection:0})}});var Ve=z(()=>{"use strict";we();ze();Te();Q1();$1();H1();Ne();Fe();qe();Ee();I1();De()});var S1,Ie=z(()=>{"use strict";C();i1();He();C();S1=class a{#e=L(X1);#n=2;#t=V({location:this.#n,room:"NONE"});lastShipRoom=E(()=>this.#t().room);lastLocation=E(()=>this.#t().location);constructor(){this.initFromStorage()}initFromStorage(){let n=this.#e.get("SHIP");n&&this.#t.set(n)}updateLastShipRoom(n){this.#o({room:n,location:this.#t().location})}updateLastLocation(n){this.#o({room:this.#t().room,location:n})}#o(n){this.#e.set("SHIP",n),this.#t.set(n)}static \u0275fac=function(e){return new(e||a)};static \u0275prov=j1({token:a,factory:a.\u0275fac,providedIn:"root"})}});function z2(a,n){if(a&1){let e=y();d(0,"app-quest",10),b("click",function(){let o=r(e).$implicit,i=l();return c(i.showQuestDetails(o.id))})("keydown.enter",function(){let o=r(e).$implicit,i=l();return c(i.showQuestDetails(o.id))})("keydown.space",function(){let o=r(e).$implicit,i=l();return c(i.showQuestDetails(o.id))}),p()}if(a&2){let e=n.$implicit;g("quest",e)}}function P2(a,n){if(a&1){let e=y();d(0,"app-location",11),b("locationChange$",function(o){r(e);let i=l();return c(i.updateLocation(o))}),p()}if(a&2){let e=n.$implicit,t=l();g("questCards",t.questCards)("location",e)("availableQuests",t.quests())}}var Ae,$e,L2=z(()=>{C();U();r1();Ve();oe();Ie();C();Ae=(a,n)=>n.id;$e=class a{#e=L(Z1);#n=L(B);#t=L(Y1);#o=L(ee);#i=L(te);#a=L(ne);#r=L(S1);pages=Array.from({length:J1.length}).map((n,e)=>e+2);questCards=this.#a.questCards;selectedPage=V(2);filteredLocations=E(()=>this.#o.locations().filter(n=>this.selectedPage()===n.page));crew=this.#e.crew;quests=this.#a.quests;players=this.#i.players;items=this.#t.items.asReadonly();ship={location:this.#r.lastLocation,room:this.#r.lastShipRoom};updateSelection(n){this.selectedPage.set(n)}updateLocation(n){this.#o.update(n)}addQuest(){this.#n.open(Z,{data:{cards:this.#a.questCards,heading:"Add A Quest Card"}}).closed.pipe(R(1)).subscribe(e=>{let t=this.questCards.find(o=>o.id===e);t&&this.#a.add(t)})}showQuestDetails(n){this.#n.open(k1,{data:{quest:this.quests().find(t=>t.id===n),locations:this.#o.locations()}}).closed.pipe(R(1)).subscribe(t=>{t?.delete&&this.#c(n)})}updatePlayers(n){this.#i.update(n)}updateCrew(n){this.#e.updateCrew(n)}updateItems(n){this.#t.update(n)}updateShipLocation(n){this.#r.updateLastLocation(n)}updateShipRoom(n){this.#r.updateLastShipRoom(n)}#c(n){confirm(`Are you sure you want to delete Quest ${n}?`)&&this.#a.remove(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-tracker"]],decls:26,vars:10,consts:[[3,"open"],[3,"quest"],[3,"click","keydown.enter","keydown.space"],[3,"selectionChange","pages","selectedPage"],[3,"questCards","location","availableQuests"],[3,"locationChange","roomChange","room","location"],[3,"itemsChanged","items"],["open",""],[3,"playerChange","players"],[3,"crewChange","crew","players"],[3,"click","keydown.enter","keydown.space","quest"],[3,"locationChange$","questCards","location","availableQuests"]],template:function(e,t){e&1&&(d(0,"details",0)(1,"summary"),m(2,"Quests"),p(),v(3,z2,1,1,"app-quest",1,Ae),d(5,"button",2),b("click",function(){return t.addQuest()})("keydown.enter",function(){return t.addQuest()})("keydown.space",function(){return t.addQuest()}),m(6," + "),p()(),d(7,"details",0)(8,"summary"),m(9,"Pages"),p(),d(10,"app-page-selection",3),b("selectionChange",function(i){return t.updateSelection(i)}),p(),v(11,P2,1,3,"app-location",4,Ae),p(),d(13,"details")(14,"summary"),m(15,"Ship"),p(),d(16,"app-ship",5),b("locationChange",function(i){return t.updateShipLocation(i)})("roomChange",function(i){return t.updateShipRoom(i)}),p()(),d(17,"details")(18,"summary"),m(19,"Items & XP"),p(),d(20,"app-items",6),b("itemsChanged",function(i){return t.updateItems(i)}),p()(),d(21,"details",7)(22,"summary"),m(23,"Players & Crew"),p(),d(24,"app-players",8),b("playerChange",function(i){return t.updatePlayers(i)}),p(),d(25,"app-crew",9),b("crewChange",function(i){return t.updateCrew(i)}),p()()),e&2&&(g("open",!0),s(3),w(t.quests()),s(4),g("open",!0),s(3),g("pages",t.pages)("selectedPage",t.selectedPage()),s(),w(t.filteredLocations()),s(5),g("room",t.ship.room())("location",t.ship.location()),s(4),g("items",t.items()),s(4),g("players",t.players()),s(),g("crew",t.crew())("players",t.players()))},dependencies:[u1,C1,x1,z1,P1,L1,O1],styles:['details[_ngcontent-%COMP%]{padding:var(--padding-box);border-radius:var(--border-radius-box);margin:.5rem 0 1rem;background-color:var(--secondary-600);color:var(--secondary-100)}details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .5s;padding:var(--padding-box);border-radius:var(--border-radius-box)}details[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::marker{content:""}details[_ngcontent-%COMP%]:not([open])   summary[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center}details[_ngcontent-%COMP%]:not([open])   summary[_ngcontent-%COMP%]:before{content:"+";padding:var(--padding-box)}details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{position:relative}details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:before{content:"-";padding:var(--padding-box)}details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:after{content:"x";position:absolute;right:var(--padding-box)}details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover, details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:active{color:var(--primary-200)}details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-weight:700;font-size:125%}details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}details[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}details[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}details[_ngcontent-%COMP%]   app-quest[_ngcontent-%COMP%]{margin:.25rem}app-location[_ngcontent-%COMP%]{margin-bottom:1rem}'],changeDetection:0})}});L2();export{$e as TrackerComponent};
