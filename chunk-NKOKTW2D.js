import{$a as qe,$b as _1,Aa as H,Ab as ee,B as j,Ba as k,Bb as G,Ca as We,Cb as U,Da as v,Db as te,Ea as x,Eb as W,Fa as g,Fb as ne,Ga as d,Gb as Ie,Ha as p,Ia as Q,Ib as ie,Ja as f,Jb as o1,Ka as u,Kb as Ae,L as le,La as Ue,Lb as re,Ma as Ee,Na as b,Nb as ce,Oa as E,Pa as h,Pb as a1,Qa as P,Qb as i1,Ra as s,Rb as r1,Sb as c1,T as S,Tb as l1,Ua as V,Ub as $e,Va as X,Vb as s1,Wa as Ke,Wb as m1,X as c,Xa as m,Xb as d1,Y as l,Ya as D,Yb as p1,Za as L,Zb as f1,_a as me,_b as u1,a as T,ac as g1,b as N,ba as $,bb as Ve,bc as C1,c as z,cb as Xe,db as Ze,dc as M1,eb as q,fb as I,fc as h1,gb as Ye,gc as b1,hb as Je,hc as y1,ia as r,ic as w1,jc as Re,kc as v1,lb as A,lc as Z1,mb as w,nb as _,oa as M,qb as C,ra as Y,ta as se,tb as e1,ub as t1,vb as n1,za as R,zb as J}from"./chunk-EW7J5ZLI.js";var x1,z1=z(()=>{"use strict";x1={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M378.9 80c-27.3 0-53 13.1-69 35.2l-34.4 47.6c-4.5 6.2-11.7 9.9-19.4 9.9s-14.9-3.7-19.4-9.9l-34.4-47.6c-16-22.1-41.7-35.2-69-35.2-47 0-85.1 38.1-85.1 85.1 0 49.9 32 98.4 68.1 142.3 41.1 50 91.4 94 125.9 120.3 3.2 2.4 7.9 4.2 14 4.2s10.8-1.8 14-4.2c34.5-26.3 84.8-70.4 125.9-120.3 36.2-43.9 68.1-92.4 68.1-142.3 0-47-38.1-85.1-85.1-85.1zM271 87.1c25-34.6 65.2-55.1 107.9-55.1 73.5 0 133.1 59.6 133.1 133.1 0 68.6-42.9 128.9-79.1 172.8-44.1 53.6-97.3 100.1-133.8 127.9-12.3 9.4-27.5 14.1-43.1 14.1s-30.8-4.7-43.1-14.1C176.4 438 123.2 391.5 79.1 338 42.9 294.1 0 233.7 0 165.1 0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1l15 20.7 15-20.7z"]}});function Y1(a,n){if(a&1&&Q(0,"fa-icon",2),a&2){let e=n.$implicit,t=s();g("icon",e?t.icons.filledHeart:t.icons.emptyHeart)}}var de,P1=z(()=>{"use strict";C();Ie();Re();z1();C();de=class a{icons={filledHeart:p1,emptyHeart:x1,heartPlus:f1,heartMinus:h1};injuries=_.required();maxHealth=_.required();injuriesHearts=A(()=>Array.from({length:this.maxHealth()}).map((n,e)=>e>=this.injuries()));incrementInjuries=w();decreaseInjuries(){this.injuries()<=0||this.incrementInjuries.emit(-1)}increaseInjuries(){this.injuries()>=this.maxHealth()||this.incrementInjuries.emit(1)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew-injuries"]],inputs:{injuries:[1,"injuries"],maxHealth:[1,"maxHealth"]},outputs:{incrementInjuries:"incrementInjuries"},decls:8,vars:9,consts:[[1,"injuries"],["role","button","title","Remove one injury",3,"click","keydown.enter","keydown.space","tabindex","icon"],[3,"icon"],["role","button","title","Add one injury",3,"click","keydown.enter","keydown.space","tabindex","icon"]],template:function(e,t){e&1&&(d(0,"span"),m(1,"Injuries"),p(),d(2,"div",0)(3,"fa-icon",1),h("click",function(){return t.decreaseInjuries()})("keydown.enter",function(){return t.decreaseInjuries()})("keydown.space",function(){return t.decreaseInjuries()}),p(),v(4,Y1,1,1,"fa-icon",2,k),m(6),d(7,"fa-icon",3),h("click",function(){return t.increaseInjuries()})("keydown.enter",function(){return t.increaseInjuries()})("keydown.space",function(){return t.increaseInjuries()}),p()()),e&2&&(r(3),X("disabled",!t.injuries()),g("tabindex",0)("icon",t.icons.heartMinus),r(),x(t.injuriesHearts()),r(2),L(" ",t.injuries()," "),r(),X("disabled",t.injuries()>=t.maxHealth()),g("tabindex",0)("icon",t.icons.heartPlus))},dependencies:[ne],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:.5rem;margin-bottom:.5rem}[_nghost-%COMP%]   fa-icon[role=button][_ngcontent-%COMP%]{font-size:175%;margin:0 .5rem;color:var(--primary-600)}[_nghost-%COMP%]   fa-icon[role=button][_ngcontent-%COMP%]:not(.disabled){cursor:pointer}[_nghost-%COMP%]   fa-icon[role=button].disabled[_ngcontent-%COMP%]{opacity:.25}"],changeDetection:0})}});var pe,L1=z(()=>{"use strict";C();C();pe=class a{mateName=_.required();comment=_.required();updateComment=w();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew-comment"]],inputs:{mateName:[1,"mateName"],comment:[1,"comment"]},outputs:{updateComment:"updateComment"},decls:5,vars:5,consts:[["txt",""],[3,"for"],["rows","6","placeholder","Comment",3,"input","id"]],template:function(e,t){if(e&1){let o=b();f(0,"label",1),m(1,"Comment"),u(),f(2,"textarea",2,0),P("input",function(){c(o);let y=V(3);return l(t.updateComment.emit(y.value))}),m(4),u()}e&2&&(E("htmlFor",qe("comment-",t.mateName())),r(2),E("id",qe("comment-",t.mateName())),r(2),D(t.comment()))},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:calc(100% - 1rem - var(--padding-box));max-width:80ch;margin:0 auto;border-radius:var(--border-radius-box);padding:var(--padding-box);font-family:Arial,sans-serif}"],changeDetection:0})}});function J1(a,n){if(a&1){let e=b();f(0,"li"),m(1),f(2,"button",1),P("click",function(){let o=c(e).$index,i=s();return l(i.remove.emit(o))})("keydown.enter",function(){let o=c(e).$index,i=s();return l(i.remove.emit(o))})("keydown.space",function(){let o=c(e).$index,i=s();return l(i.remove.emit(o))}),m(3," - "),u()()}if(a&2){let e=n.$implicit;r(),L(" ",e," ")}}function e2(a,n){a&1&&(f(0,"li")(1,"small"),m(2,"none"),u()())}var fe,k1=z(()=>{"use strict";C();C();fe=class a{title=_.required();items=_.required();add=w();remove=w();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew-items"]],inputs:{title:[1,"title"],items:[1,"items"]},outputs:{add:"add",remove:"remove"},decls:8,vars:2,consts:[["title","Add",3,"click","keydown.enter","keydown.space"],["title","Remove this card",3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&(f(0,"h4"),m(1),f(2,"button",0),P("click",function(){return t.add.emit()})("keydown.enter",function(){return t.add.emit()})("keydown.space",function(){return t.add.emit()}),m(3," + "),u()(),f(4,"ul"),v(5,J1,4,1,"li",null,k,!1,e2,3,0,"li"),u()),e&2&&(r(),L(" ",t.title()," "),r(4),x(t.items()))},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:.5rem;margin-bottom:.5rem}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}"],changeDetection:0})}});function t2(a,n){if(a&1){let e=b();f(0,"li")(1,"button",0),P("click",function(){let o=c(e).$index,i=s();return l(i.decrement.emit(o))})("keydown.enter",function(){let o=c(e).$index,i=s();return l(i.decrement.emit(o))})("keydown.space",function(){let o=c(e).$index,i=s();return l(i.decrement.emit(o))}),m(2," - "),u(),m(3),f(4,"button",0),P("click",function(){let o=c(e).$index,i=s();return l(i.increment.emit(o))})("keydown.enter",function(){let o=c(e).$index,i=s();return l(i.increment.emit(o))})("keydown.space",function(){let o=c(e).$index,i=s();return l(i.increment.emit(o))}),m(5," + "),u()()}if(a&2){let e=n.$implicit;r(),E("disabled",!e),r(2),L(" ",e," "),r(),E("disabled",e>2)}}var ue,O1=z(()=>{"use strict";C();C();ue=class a{commandTokens=_.required();increment=w();decrement=w();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew-command-tokens"]],inputs:{commandTokens:[1,"commandTokens"]},outputs:{increment:"increment",decrement:"decrement"},decls:5,vars:0,consts:[[3,"click","keydown.enter","keydown.space","disabled"]],template:function(e,t){e&1&&(f(0,"span"),m(1,"Command tokens"),u(),f(2,"ul"),v(3,t2,6,3,"li",null,k),u()),e&2&&(r(3),x(t.commandTokens()))},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:.5rem;margin-bottom:.5rem}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}"],changeDetection:0})}});function n2(a,n){if(a&1&&(f(0,"option",2),m(1),u()),a&2){let e=n.$implicit,t=n.$index,o=s();E("value",t)("selected",t===o.selectedPlayer()),r(),L(" ",e," ")}}var _e,S1=z(()=>{"use strict";C();C();_e=class a{players=_.required();selectedPlayer=_.required();playerChange=w();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew-player-selection"]],inputs:{players:[1,"players"],selectedPlayer:[1,"selectedPlayer"]},outputs:{playerChange:"playerChange"},decls:4,vars:0,consts:[["playerIndex",""],[3,"change"],[3,"value","selected"]],template:function(e,t){if(e&1){let o=b();f(0,"select",1,0),P("change",function(){c(o);let y=V(1);return l(t.playerChange.emit(y.value))}),v(2,n2,2,3,"option",2,k),u()}e&2&&(r(2),x(t.players()))},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:.5rem;margin-bottom:.5rem}"],changeDetection:0})}});var B,oe=z(()=>{"use strict";C();B=class a{transform(n){return n.toString().split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}static \u0275fac=function(e){return new(e||a)};static \u0275pipe=Y({name:"enumToString",type:a,pure:!0})}});function o2(a,n){if(a&1){let e=b();d(0,"app-crew-player-selection",5),h("playerChange",function(o){c(e);let i=s().$implicit,y=s();return l(y.updateControllingPlayer(i,o))}),p()}if(a&2){let e=s().$implicit,t=s();g("players",t.players())("selectedPlayer",e.playerIndex)}}function a2(a,n){if(a&1){let e=b();d(0,"details")(1,"summary"),m(2),q(3,"enumToString"),p(),R(4,o2,1,2,"app-crew-player-selection",0),d(5,"app-crew-command-tokens",1),h("increment",function(o){let i=c(e).$implicit,y=s();return l(y.incrementCommandToken(i,o,1))})("decrement",function(o){let i=c(e).$implicit,y=s();return l(y.incrementCommandToken(i,o,-1))}),p(),d(6,"app-crew-items",2),h("add",function(){let o=c(e).$implicit,i=s();return l(i.addEquipment(o))})("remove",function(o){let i=c(e).$implicit,y=s();return l(y.removeEquipment(i,o))}),p(),d(7,"app-crew-items",2),h("add",function(){let o=c(e).$implicit,i=s();return l(i.addXpCard(o))})("remove",function(o){let i=c(e).$implicit,y=s();return l(y.removeXpCard(i,o))}),p(),d(8,"app-crew-items",2),h("add",function(){let o=c(e).$implicit,i=s();return l(i.addAbilityCard(o))})("remove",function(o){let i=c(e).$implicit,y=s();return l(y.removeAbilityCard(i,o))}),p(),d(9,"app-crew-injuries",3),h("incrementInjuries",function(o){let i=c(e).$implicit,y=s();return l(y.incrementInjuries(i,o))}),p(),d(10,"app-crew-comment",4),h("updateComment",function(o){let i=c(e).$implicit,y=s();return l(y.updateComment(i,o))}),p()()}if(a&2){let e=n.$implicit,t=s();r(2),D(I(3,13,e.name)),r(2),H(t.players().length>1&&e.name!==t.CrewNames.CAPTAIN?4:-1),r(),g("commandTokens",e.commandTokens),r(),g("title","Equipment")("items",e.equipment),r(),g("title","Xp cards")("items",e.xpCards),r(),g("title","Ability cards")("items",e.abilityCards),r(),g("injuries",e.injuries)("maxHealth",e.maxHealth),r(),g("mateName",e.name)("comment",e.comment)}}var ge,T1=z(()=>{"use strict";C();U();ie();ce();P1();L1();k1();O1();S1();oe();C();ge=class a{#e=S(G);CrewNames=o1;players=_.required();crew=_.required();crewMates=A(()=>this.crew().map(n=>N(T({},n),{injuriesHearts:Array.from({length:n.maxHealth}).map((e,t)=>t>=n.injuries)})));crewChange=w();updateControllingPlayer(n,e){this.crewChange.emit([...this.crew().filter(t=>t.name!==n.name),N(T({},n),{playerIndex:Number.parseInt(e)})])}incrementCommandToken(n,e,t){let o=[...n.commandTokens];o[e]+=t,this.crewChange.emit([...this.crew().filter(i=>i.name!==n.name),N(T({},n),{commandTokens:o})])}incrementInjuries(n,e){this.crewChange.emit([...this.crew().filter(t=>t.name!==n.name),N(T({},n),{injuries:n.injuries+e})])}addAbilityCard(n){this.#e.open(W,{data:{heading:"Enter ability card name",label:"Card name"}}).closed.subscribe(t=>{t&&this.#n(n,t)})}addXpCard(n){this.#e.open(W,{data:{heading:"Enter ability card name",label:"Card name"}}).closed.subscribe(t=>{t&&this.#t(n,t)})}removeXpCard(n,e){let t=n.xpCards.at(e);this.crewChange.emit([...this.crew().filter(o=>o.name!==n.name),N(T({},n),{xpCards:n.xpCards.filter(o=>o!==t)})])}removeAbilityCard(n,e){let t=n.abilityCards.at(e);this.crewChange.emit([...this.crew().filter(o=>o.name!==n.name),N(T({},n),{abilityCards:n.abilityCards.filter(o=>o!==t)})])}removeEquipment(n,e){let t=n.equipment.at(e);this.crewChange.emit([...this.crew().filter(o=>o.name!==n.name),N(T({},n),{equipment:n.equipment.filter(o=>o!==t)})])}addEquipment(n){this.#e.open(W,{data:{heading:"Enter equipment card name",label:"Card name"}}).closed.subscribe(t=>{t&&this.#o(n,t)})}updateComment(n,e){this.crewChange.emit([...this.#i(n),N(T({},n),{comment:e})])}#t(n,e){this.crewChange.emit([...this.crew().filter(t=>t.name!==n.name),N(T({},n),{xpCards:[...n.xpCards,e]})])}#n(n,e){this.crewChange.emit([...this.crew().filter(t=>t.name!==n.name),N(T({},n),{abilityCards:[...n.abilityCards,e]})])}#o(n,e){this.crewChange.emit([...this.crew().filter(t=>t.name!==n.name),N(T({},n),{equipment:[...n.equipment,e]})])}#i(n){return this.crew().filter(e=>e.name!==n.name)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-crew"]],inputs:{players:[1,"players"],crew:[1,"crew"]},outputs:{crewChange:"crewChange"},decls:2,vars:0,consts:[[3,"players","selectedPlayer"],[3,"increment","decrement","commandTokens"],[3,"add","remove","title","items"],[3,"incrementInjuries","injuries","maxHealth"],[3,"updateComment","mateName","comment"],[3,"playerChange","players","selectedPlayer"]],template:function(e,t){e&1&&v(0,a2,11,15,"details",null,k),e&2&&x(t.crew())},dependencies:[de,pe,fe,ue,_e,B],styles:['[_nghost-%COMP%]{display:block;padding:1rem}[_nghost-%COMP%]   details[_ngcontent-%COMP%]{padding:var(--padding-box);border-radius:var(--border-radius-box);margin:.5rem 0;background-color:var(--secondary-600);color:var(--secondary-100);background-color:var(--primary-800)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .5s;padding:var(--padding-box);border-radius:var(--border-radius-box)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::marker{content:""}[_nghost-%COMP%]   details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:after{content:"x";position:absolute;right:var(--padding-box)}[_nghost-%COMP%]   details[open][_ngcontent-%COMP%]{background-color:var(--primary-800)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:active{color:var(--primary-600)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   app-crew-player-selection[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   app-crew-command-tokens[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   app-crew-items[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   app-crew-injuries[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   app-crew-comment[_ngcontent-%COMP%]{margin-top:1rem}'],changeDetection:0})}});var Ce,N1=z(()=>{"use strict";Ce=class{static clamp(n,e={min:0,max:99}){if(e.min>=e.max)throw new Error("NumberUtils.clamp expects min value to be smaller than max value");return Math.max(Math.min(n,e.max),e.min)}}});function i2(a,n){if(a&1){let e=b();d(0,"div")(1,"div",1),Q(2,"fa-icon",2),m(3),q(4,"enumToString"),p(),d(5,"p")(6,"button",3),h("click",function(){let o=c(e).$implicit,i=s();return l(i.increment(o,-1))})("keydown.enter",function(){let o=c(e).$implicit,i=s();return l(i.increment(o,-1))})("keydown.space",function(){let o=c(e).$implicit,i=s();return l(i.increment(o,-1))}),m(7," - "),p(),d(8,"span"),m(9),p(),d(10,"button",3),h("click",function(){let o=c(e).$implicit,i=s();return l(i.increment(o,1))})("keydown.enter",function(){let o=c(e).$implicit,i=s();return l(i.increment(o,1))})("keydown.space",function(){let o=c(e).$implicit,i=s();return l(i.increment(o,1))}),m(11," + "),p(),d(12,"button",4),h("click",function(){let o=c(e).$implicit,i=s();return l(i.reset(o))})("keydown.enter",function(){let o=c(e).$implicit,i=s();return l(i.reset(o))})("keydown.space",function(){let o=c(e).$implicit,i=s();return l(i.reset(o))}),m(13," x "),p()()()}if(a&2){let e=n.$implicit,t=s();Ke(e),r(2),g("icon",t.icons[e]),r(),L(" ",I(4,7,e)," "),r(3),g("disabled",t.items()[e]<1),r(3),D(t.items()[e]),r(),g("disabled",t.items()[e]>=t.maxItemCount)}}var Me,F1=z(()=>{"use strict";C();Re();Ie();N1();oe();C();Me=class a{maxItemCount=99;itemTypes=["xp","coins","artefacts","grain","meat","vegetables","materials"];icons={xp:C1,grain:u1,coins:w1,artefacts:b1,meat:M1,vegetables:_1,materials:g1};items=_.required();itemsChanged=w();increment(n,e){this.itemsChanged.emit(N(T({},this.items()),{[n]:Ce.clamp(this.items()[n]+e,{min:0,max:this.maxItemCount})}))}reset(n){this.itemsChanged.emit(N(T({},this.items()),{[n]:0}))}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-items"]],inputs:{items:[1,"items"]},outputs:{itemsChanged:"itemsChanged"},decls:2,vars:0,consts:[[3,"class"],[1,"label"],[3,"icon"],[3,"click","keydown.enter","keydown.space","disabled"],[3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&v(0,i2,14,9,"div",0,k),e&2&&x(t.itemTypes)},dependencies:[ne,B],styles:["div[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;width:100%;margin:1rem}div[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-block;width:110px;margin:0}div[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:.5rem;opacity:.7}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700);font-size:small;padding:3px 8px}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-left:2rem;background-color:var(--danger-500);font-size:smaller}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type:hover{background-color:var(--danger-000)}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:2rem;text-align:center}"],changeDetection:0})}});function c2(a,n){if(a&1&&Q(0,"app-badge",1),a&2){let e=s();g("mainText",e.badge().mainText)("subText",e.badge().subText)}}function l2(a,n){if(a&1){let e=b();d(0,"li")(1,"button",3),h("click",function(){let o=c(e).$implicit,i=s(2);return l(i.accept(o.id))})("keydown.enter",function(){let o=c(e).$implicit,i=s(2);return l(i.accept(o.id))})("keydown.space",function(){let o=c(e).$implicit,i=s(2);return l(i.accept(o.id))}),m(2),p()()}if(a&2){let e=n.$implicit;r(2),L(" ",e.name," ")}}function s2(a,n){a&1&&m(0," nothing found ")}function m2(a,n){if(a&1&&m(0),a&2){let e=s(2);L(" + ",e.quests().length-e.maxQuests," ")}}function d2(a,n){if(a&1&&(d(0,"ul"),v(1,l2,3,1,"li",null,r2,!1,s2,1,0),q(4,"slice"),R(5,m2,1,1),p()),a&2){let e=s();r(),x(Ye(4,2,e.quests(),0,e.maxQuests)),r(4),H(e.quests().length>e.maxQuests?5:-1)}}var r2,Z,He=z(()=>{"use strict";C();U();n1();ie();C();r2=(a,n)=>n.id;Z=class a{#e=S(J);#t=S(ee);maxQuests=8;#n=$([]);#o=$("");#i=$(void 0);#a=$("");quests=A(()=>this.#n()?.filter(n=>!this.#o()||n.name?.match(new RegExp(this.#o()))?.length));badge=this.#i.asReadonly();heading=this.#a.asReadonly();ngOnInit(){this.#n.set(this.#t.cards),this.#i.set(this.#t.badge),this.#a.set(this.#t.heading)}cancel(){this.#e.close()}accept(n){this.#e.close(this.#n().find(e=>e.id===n)?.id)}updateSearchTerm(n){this.#o.set(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-quest-finder-modal"]],decls:14,vars:3,consts:[["input",""],[3,"mainText","subText"],["id","inputField","type","text",3,"input"],[3,"click","keydown.enter","keydown.space"]],template:function(e,t){if(e&1){let o=b();d(0,"header")(1,"h1"),m(2),p(),R(3,c2,1,2,"app-badge",1),p(),d(4,"main")(5,"label"),m(6," Keyword "),d(7,"input",2,0),h("input",function(){c(o);let y=V(8);return l(t.updateSearchTerm(y.value))}),p()(),d(9,"div"),R(10,d2,6,6,"ul"),p()(),d(11,"footer")(12,"button",3),h("click",function(){return c(o),l(t.cancel())})("keydown.enter",function(){return c(o),l(t.cancel())})("keydown.space",function(){return c(o),l(t.cancel())}),m(13," Cancel "),p()()}if(e&2){let o=V(8);r(2),D(t.heading()),r(),H(t.badge()?3:-1),r(7),H(o.value?10:-1)}},dependencies:[te,t1],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;align-items:stretch;min-height:20vh;justify-content:space-between}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;width:100%;padding-bottom:.5rem}[_nghost-%COMP%]   main[_ngcontent-%COMP%]{flex-grow:1;min-height:20vh}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-style:italic;display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;max-width:70%;margin:0 auto}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:.25rem}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;flex-flow:row wrap;align-items:center;gap:.25rem;max-width:100%}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700);text-transform:uppercase}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}"],changeDetection:0})}});var D1=z(()=>{"use strict";He()});var ae,Qe=z(()=>{"use strict";C();ae=class a{transform(n){return n.toString().toLowerCase().split("_").map(e=>e[0].toUpperCase()+e.slice(1)).join(" ")}static \u0275fac=function(e){return new(e||a)};static \u0275pipe=Y({name:"humanReadableTag",type:a,pure:!0})}});var K,he=z(()=>{"use strict";ce();C();K=class a{transform(n){switch(n){case"COMBAT":return"\u2694\uFE0F";case"DANGER":return"\u2620\uFE0F";case"TOTEM_LOCATION":return"\u{1F3C6}";case"DO_NOT_VISIT":return"\u{1F6AB}";case"RICH_REWARDS":return"\u{1F4B0}";case"TRADE_OPPORTUNITY":return"\u2696\uFE0F";default:return"??"}}static \u0275fac=function(e){return new(e||a)};static \u0275pipe=Y({name:"tagIcon",type:a,pure:!0})}});function p2(a,n){if(a&1){let e=b();f(0,"button",1),P("click",function(){let o=c(e).$implicit,i=s(2);return l(i.add(o))})("keydown.enter",function(){let o=c(e).$implicit,i=s(2);return l(i.add(o))})("keydown.space",function(){let o=c(e).$implicit,i=s(2);return l(i.add(o))}),m(1),q(2,"humanReadableTag"),q(3,"tagIcon"),u()}if(a&2){let e=n.$implicit;r(),me(" ",I(2,2,e)," ",I(3,4,e)," ")}}function f2(a,n){if(a&1&&v(0,p2,4,6,"button",null,k),a&2){let e=s();x(e.unusedTags())}}var be,je=z(()=>{"use strict";C();U();Qe();he();C();be=class a{data=S(ee);#e=S(J);#t=$([]);#n=$([]);unusedTags=A(()=>(this.#n()??[]).filter(n=>!this.#t().includes(n)));ngOnInit(){this.#t.set(this.data.currentTags),this.#n.set(this.data.allTags)}add(n){this.#e.close(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location-tag-selection-modal"]],decls:8,vars:1,consts:[[1,"cancel",3,"click","keydown.enter","keydown.space"],[3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&(f(0,"header")(1,"h1"),m(2,"Select a Tag"),u()(),f(3,"main"),R(4,f2,2,0),u(),f(5,"footer")(6,"button",0),P("click",function(){return t.add(void 0)})("keydown.enter",function(){return t.add(void 0)})("keydown.space",function(){return t.add(void 0)}),m(7," Cancel "),u()()),e&2&&(r(4),H(t.unusedTags()?4:-1))},dependencies:[K,ae],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;gap:1rem}[_nghost-%COMP%]   main[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row wrap;align-items:center;justify-content:center;padding:1rem 0;gap:1rem}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{display:flex;flex-flow:row-reverse}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   button.cancel[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   button.cancel[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button.cancel[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button.cancel[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}"],changeDetection:0})}});function u2(a,n){if(a&1){let e=b();f(0,"button",0),P("click",function(){let o=c(e).$implicit,i=s();return l(i.remove(o))})("keydown.enter",function(){let o=c(e).$implicit,i=s();return l(i.remove(o))})("keydown.space",function(){let o=c(e).$implicit,i=s();return l(i.remove(o))}),m(1),q(2,"humanReadableTag"),q(3,"tagIcon"),u()}if(a&2){let e=n.$implicit;r(),me(" ",I(2,2,e)," ",I(3,4,e)," ")}}function _2(a,n){a&1&&(f(0,"small"),m(1,"none"),u())}var ye,Be=z(()=>{"use strict";C();Qe();U();le();je();he();C();ye=class a{#e=S(G);currenTags=_.required();allTags=_.required();tagChange=w();add(){this.#e.open(be,{data:{currentTags:this.currenTags(),allTags:this.allTags()}}).closed.pipe(j(1)).subscribe(e=>{e&&this.tagChange.emit([...this.currenTags(),e])})}remove(n){this.tagChange.emit([...this.currenTags().filter(e=>e!==n)])}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location-tags"]],inputs:{currenTags:[1,"currenTags"],allTags:[1,"allTags"]},outputs:{tagChange:"tagChange"},decls:8,vars:1,consts:[[3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&(f(0,"h4"),m(1,"Tags"),u(),f(2,"div"),v(3,u2,4,6,"button",null,k,!1,_2,2,0,"small"),f(6,"button",0),P("click",function(){return t.add()})("keydown.enter",function(){return t.add()})("keydown.space",function(){return t.add()}),m(7," + "),u()()),e&2&&(r(3),x(t.currenTags()))},dependencies:[ae,K],styles:["[_nghost-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;flex-flow:row wrap;max-width:100%;gap:.25rem}[_nghost-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   div[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   div[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}"],changeDetection:0})}});function C2(a,n){a&1&&(f(0,"span"),m(1,"\u{1F5F8}"),u())}function M2(a,n){if(a&1){let e=b();f(0,"button",2),P("click",function(){let o=c(e).$implicit,i=s(2);return l(i.delete(o.id))})("keydown.enter",function(){let o=c(e).$implicit,i=s(2);return l(i.delete(o.id))})("keydown.space",function(){let o=c(e).$implicit,i=s(2);return l(i.delete(o.id))}),R(1,C2,2,0,"span"),m(2),u()}if(a&2){let e=n.$implicit;X("available",e.available),r(),H(e.available?1:-1),r(),L(" ",e.name," ")}}function h2(a,n){a&1&&(f(0,"small"),m(1,"none"),u())}function b2(a,n){if(a&1){let e=b();f(0,"h3"),m(1),f(2,"button",0),P("click",function(){c(e);let o=s();return l(o.add())})("keydown.enter",function(){c(e);let o=s();return l(o.add())})("keydown.space",function(){c(e);let o=s();return l(o.add())}),m(3," + "),u()(),f(4,"div"),v(5,M2,3,4,"button",1,g2,!1,h2,2,0,"small"),u()}if(a&2){let e=s();r(),L(" ",e.heading()," "),r(4),x(e.quests())}}var g2,we,Ge=z(()=>{"use strict";C();C();g2=(a,n)=>n.id;we=class a{quests=_.required();heading=_.required();addQuest=w();deleteQuest=w();add(){this.addQuest.emit()}delete(n){this.deleteQuest.emit(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location-section"]],inputs:{quests:[1,"quests"],heading:[1,"heading"]},outputs:{addQuest:"addQuest",deleteQuest:"deleteQuest"},decls:1,vars:1,consts:[[3,"click","keydown.enter","keydown.space"],[1,"requirement",3,"available"],[1,"requirement",3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&R(0,b2,8,2),e&2&&H(t.quests()?0:-1)},styles:["h3[_ngcontent-%COMP%]{font-size:.925rem;font-weight:700;display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;min-width:100%}div[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;gap:.25rem}button.requirement[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-transform:uppercase}button.requirement[disabled][_ngcontent-%COMP%]{cursor:not-allowed}button.requirement[_ngcontent-%COMP%]:not([disabled]):hover, button.requirement[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}button[_ngcontent-%COMP%]:not(.requirement){cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}button[_ngcontent-%COMP%]:not(.requirement)[disabled]{cursor:not-allowed}button[_ngcontent-%COMP%]:not(.requirement):not([disabled]):hover, button[_ngcontent-%COMP%]:not(.requirement):not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}button[_ngcontent-%COMP%]:not(.requirement)[disabled]{background-color:var(--disabled-000)}"],changeDetection:0})}});function y2(a,n){if(a&1&&(f(0,"span",0),q(1,"enumToString"),m(2),q(3,"tagIcon"),u()),a&2){let e=n.$implicit;E("title",I(1,2,e)),r(2),L(" ",I(3,4,e)," ")}}var ve,E1=z(()=>{"use strict";C();he();oe();C();ve=class a{tags=_.required();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location-tags-preview"]],inputs:{tags:[1,"tags"]},decls:3,vars:0,consts:[[3,"title"]],template:function(e,t){e&1&&(f(0,"div"),v(1,y2,4,6,"span",0,k),u()),e&2&&(r(),x(t.tags()))},dependencies:[K,B],encapsulation:2,changeDetection:0})}});function w2(a,n){if(a&1){let e=b();f(0,"span",1),P("click",function(){let o=c(e).$index,i=s();return l(i.editComment.emit(o))})("keydown.enter",function(){let o=c(e).$index,i=s();return l(i.editComment.emit(o))})("keydown.space",function(){let o=c(e).$index,i=s();return l(i.editComment.emit(o))}),m(1),u(),f(2,"button",2),P("click",function(){let o=c(e).$index,i=s();return l(i.deleteComment.emit(o))})("keydown.enter",function(){let o=c(e).$index,i=s();return l(i.deleteComment.emit(o))})("keydown.space",function(){let o=c(e).$index,i=s();return l(i.deleteComment.emit(o))}),m(3," x "),u()}if(a&2){let e=n.$implicit;E("tabIndex",0),r(),L(" ",e," ")}}function v2(a,n){a&1&&(f(0,"small"),m(1,"none"),u())}var xe,q1=z(()=>{"use strict";C();C();xe=class a{comments=_.required();addComment=w();deleteComment=w();editComment=w();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location-comments"]],inputs:{comments:[1,"comments"]},outputs:{addComment:"addComment",deleteComment:"deleteComment",editComment:"editComment"},decls:7,vars:1,consts:[[3,"click","keydown.enter","keydown.space"],[3,"click","keydown.enter","keydown.space","tabindex"],[1,"delete",3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&(f(0,"h3"),m(1," Comments "),f(2,"button",0),P("click",function(){return t.addComment.emit()})("keydown.enter",function(){return t.addComment.emit()})("keydown.space",function(){return t.addComment.emit()}),m(3," + "),u()(),v(4,w2,4,2,null,null,k,!1,v2,2,0,"small")),e&2&&(r(4),x(t.comments()))},styles:["h3[_ngcontent-%COMP%]{font-size:.925rem;font-weight:700;display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;min-width:100%}button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}button[_ngcontent-%COMP%]:not([disabled]):hover, button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}button.delete[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}button.delete[disabled][_ngcontent-%COMP%]{cursor:not-allowed}button.delete[_ngcontent-%COMP%]:not([disabled]):hover, button.delete[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}"],changeDetection:0})}});function x2(a,n){if(a&1&&(f(0,"span"),m(1),u()),a&2){let e=s();r(),D(e.checkedLabel())}}function z2(a,n){if(a&1&&(f(0,"span"),m(1),u()),a&2){let e=s();r(),D(e.uncheckedLabel())}}var ze,V1=z(()=>{"use strict";C();C();ze=class a{isChecked=_.required();checkedLabel=_.required();uncheckedLabel=_("");id=$("switch"+crypto.randomUUID());static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-switch"]],inputs:{isChecked:[1,"isChecked"],checkedLabel:[1,"checkedLabel"],uncheckedLabel:[1,"uncheckedLabel"]},decls:4,vars:5,consts:[["type","checkbox",3,"id","checked"],[3,"for","title"]],template:function(e,t){e&1&&(Ue(0,"input",0),f(1,"label",1),R(2,x2,2,1,"span")(3,z2,2,1,"span"),u()),e&2&&(E("id",t.id())("checked",t.isChecked()),r(),E("htmlFor",t.id())("title",t.isChecked()?t.checkedLabel():t.uncheckedLabel()),r(),H(t.isChecked()?2:3))},styles:['[_nghost-%COMP%]   input[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{left:3.75rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:var(--primary-600)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 2.375rem 0 0}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;position:relative;width:calc(2*(3rem + 1px));height:calc(2.25rem + 2px);background-color:#00000040;border-radius:2.25rem;transition:all .3s;display:flex;align-items:center}[_nghost-%COMP%]   label[_ngcontent-%COMP%]:after{content:"";position:absolute;width:2.25rem;height:2.25rem;border-radius:50%;background-color:var(--primary-000);top:1px;left:1px;transition:all .3s}[_nghost-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin:0 0 0 2.375rem;width:3.625rem;text-align:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}'],changeDetection:0})}});var I1,Pe,A1=z(()=>{"use strict";C();U();le();ce();ie();D1();m1();Be();Ge();E1();q1();V1();C();I1=()=>[],Pe=class a{#e=S(G);availableLocationTags=Object.values(Ae);questCards=_.required();location=_.required();availableQuests=_.required();requirements=A(()=>this.location().requires.map(n=>({id:n,name:$e.get(n),available:!!this.availableQuests().find(e=>e.id===n)})));rewards=A(()=>(this.location().rewards??[]).map(n=>({id:n,name:$e.get(n),available:!!this.availableQuests().find(e=>e.id===n)})));locationChange$=w();deleteComment(n){if(!confirm(`Are you sure you want to delete this comment for location ${this.location().id}?`))return;let t=this.location();this.location().comments.splice(n,1),this.locationChange$.emit(t)}editComment(n){let e=this.location()?.comments?.at(n);if(!e)return;this.#e.open(W,{data:{badge:{mainText:this.location().id,subText:this.location().page,caption:this.location().title},heading:"Edit Comment",value:e,label:"Comment"}}).closed.pipe(j(1)).subscribe(o=>{if(!o)return;let i=this.location();i.comments?.splice(n,1,o),this.locationChange$.emit(i)})}addComment(){this.#e.open(W,{data:{badge:{mainText:this.location().id,subText:this.location().page,caption:this.location().title},heading:"Add Comment",label:"Comment"}}).closed.pipe(j(1)).subscribe(e=>{e&&this.locationChange$.emit(N(T({},this.location()),{comments:[...this.location()?.comments??[],e]}))})}addRequirement(){this.#e.open(Z,{data:{cards:this.questCards().filter(e=>!this.location().requires.includes(e.id)),badge:{mainText:this.location().id,subText:"p. "+this.location().page},heading:"Add Requirement",label:"Requirement"}}).closed.pipe(j(1)).subscribe(e=>{!e||this.location().requires.includes(e)||this.locationChange$.emit(N(T({},this.location()),{requires:[...this.location().requires??[],e]}))})}deletedRequirement(n){confirm(`Are you sure you want to delete this requirement for location ${this.location().id}?`)&&this.locationChange$.emit(N(T({},this.location()),{requires:[...this.location().requires.filter(t=>t!==n)]}))}setDoneStatus(n){this.locationChange$.emit(N(T({},this.location()),{done:n}))}addReward(){this.#e.open(Z,{data:{cards:this.questCards().filter(e=>!this.location().rewards.includes(e.id)),badge:{mainText:this.location().id,subText:"p. "+this.location().page},heading:"Add Reward",label:"Reward"}}).closed.pipe(j(1)).subscribe(e=>{e&&this.locationChange$.emit(N(T({},this.location()),{rewards:[...this.location().rewards??[],e]}))})}deletedReward(n){confirm(`Are you sure you want to delete this reward for location ${this.location().id}?`)&&this.locationChange$.emit(N(T({},this.location()),{rewards:this.location().rewards.filter(t=>t!==n)}))}updateTags(n){this.locationChange$.emit(N(T({},this.location()),{tags:n}))}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-location"]],inputs:{questCards:[1,"questCards"],location:[1,"location"],availableQuests:[1,"availableQuests"]},outputs:{locationChange$:"locationChange$"},decls:18,vars:17,consts:[["switchElement",""],[3,"mainText","subText","done"],[1,"name-and-tags"],[3,"tags"],[1,"content"],[1,"req-rew"],[3,"addQuest","deleteQuest","heading","quests"],[3,"addComment","deleteComment","editComment","comments"],[3,"tagChange","allTags","currenTags"],["tabindex","0",3,"click","keydown.enter","keydown.space","checkedLabel","uncheckedLabel","isChecked"]],template:function(e,t){if(e&1){let o=b();d(0,"details")(1,"summary"),Q(2,"app-badge",1),d(3,"div",2),m(4),Q(5,"app-location-tags-preview",3),p()(),d(6,"div",4)(7,"div",5)(8,"section")(9,"app-location-section",6),h("addQuest",function(){return c(o),l(t.addRequirement())})("deleteQuest",function(y){return c(o),l(t.deletedRequirement(y))}),p()(),d(10,"section")(11,"app-location-section",6),h("addQuest",function(){return c(o),l(t.addReward())})("deleteQuest",function(y){return c(o),l(t.deletedReward(y))}),p()()(),d(12,"section")(13,"app-location-comments",7),h("addComment",function(){return c(o),l(t.addComment())})("deleteComment",function(y){return c(o),l(t.deleteComment(y))})("editComment",function(y){return c(o),l(t.editComment(y))}),p()(),d(14,"section")(15,"app-location-tags",8),h("tagChange",function(y){return c(o),l(t.updateTags(y))}),p(),d(16,"app-switch",9,0),h("click",function(){c(o);let y=V(17);return l(t.setDoneStatus(!y.isChecked()))})("keydown.enter",function(){c(o);let y=V(17);return l(t.setDoneStatus(!y.isChecked()))})("keydown.space",function(){c(o);let y=V(17);return l(t.setDoneStatus(!y.isChecked()))}),p()()()()}e&2&&(r(2),g("mainText",""+t.location().id)("subText","p. "+t.location().page)("done",t.location().done),r(2),L(" ",t.location().title," "),r(),g("tags",t.location().tags),r(4),g("heading","Requirements")("quests",t.requirements()),r(2),g("heading","Rewards")("quests",t.rewards()),r(2),g("comments",t.location().comments??Ve(15,I1)),r(2),g("allTags",t.availableLocationTags)("currenTags",t.location().tags??Ve(16,I1)),r(),g("checkedLabel","done")("uncheckedLabel","not done")("isChecked",!!t.location().done))},dependencies:[te,ve,we,ye,xe,ze],styles:['[_nghost-%COMP%]{display:block;margin-top:.5rem;position:relative}[_nghost-%COMP%]   details[_ngcontent-%COMP%]{padding:var(--padding-box);border-radius:var(--border-radius-box);margin:.5rem 0;background-color:var(--secondary-600);color:var(--secondary-100);background-color:var(--primary-800)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .5s;padding:var(--padding-box);border-radius:var(--border-radius-box)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::marker{content:""}[_nghost-%COMP%]   details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:after{content:"x";position:absolute;right:var(--padding-box)}[_nghost-%COMP%]   details[open][_ngcontent-%COMP%]{background-color:var(--primary-800)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:active{color:var(--primary-600)}[_nghost-%COMP%]   details[open][_ngcontent-%COMP%]{padding-bottom:2.5rem}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]   .name-and-tags[_ngcontent-%COMP%]{margin:0 60px}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   .req-rew[_ngcontent-%COMP%]{display:flex;gap:.5rem}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   .req-rew[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{width:calc(50% - .5rem)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   .req-rew[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]:first-child{border-right:1px solid var(--disabled-000)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:.5rem}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   section.done-status[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.reward[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.requirement[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important;text-transform:uppercase;margin:0 .25rem .25rem 0}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.reward[disabled][_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.requirement[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.reward[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.reward[_ngcontent-%COMP%]:not([disabled]):active, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.requirement[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.requirement[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}[_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.reward.available[_ngcontent-%COMP%], [_nghost-%COMP%]   details[_ngcontent-%COMP%]   button.requirement.available[_ngcontent-%COMP%]{color:var(--secondary-500)}[_nghost-%COMP%]   app-badge[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}[_nghost-%COMP%]   app-location-tags[_ngcontent-%COMP%]{padding-bottom:1rem}[_nghost-%COMP%]   app-switch[_ngcontent-%COMP%]{position:absolute;right:.5rem}'],changeDetection:0})}});function P2(a,n){if(a&1){let e=b();f(0,"button",1),P("click",function(){let o=c(e).$implicit,i=s();return l(i.selectionChange.emit(o))})("keydown.enter",function(){let o=c(e).$implicit,i=s();return l(i.selectionChange.emit(o))})("keydown.space",function(){let o=c(e).$implicit,i=s();return l(i.selectionChange.emit(o))}),m(1),u()}if(a&2){let e=n.$implicit,t=s();X("selected",e===t.selectedPage()),r(),L(" ",e," ")}}var Le,$1=z(()=>{"use strict";C();C();Le=class a{pages=_.required();selectedPage=_.required();selectionChange=w();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-page-selection"]],inputs:{pages:[1,"pages"],selectedPage:[1,"selectedPage"]},outputs:{selectionChange:"selectionChange"},decls:2,vars:0,consts:[[3,"selected"],[3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&v(0,P2,2,3,"button",0,We),e&2&&x(t.pages())},styles:["[_nghost-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center;gap:.5rem;max-width:500px;margin:0 auto}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{min-width:3rem!important}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not(.selected){cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not(.selected)[disabled]{cursor:not-allowed}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not(.selected):not([disabled]):hover, [_nghost-%COMP%]   button[_ngcontent-%COMP%]:not(.selected):not([disabled]):active{background-color:var(--primary-700)!important}[_nghost-%COMP%]   button.selected[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   button.selected[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button.selected[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button.selected[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   button.selected[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}"],changeDetection:0})}});function L2(a,n){if(a&1){let e=b();d(0,"p")(1,"span"),m(2),p(),d(3,"button",1),h("click",function(){let o=c(e).$index,i=s();return l(i.removePlayer(o))})("keydown.enter",function(){let o=c(e).$index,i=s();return l(i.removePlayer(o))})("keydown.space",function(){let o=c(e).$index,i=s();return l(i.removePlayer(o))}),Q(4,"fa-icon",2),p()()}if(a&2){let e=n.$implicit,t=s();r(2),D(e),r(),g("disabled",t.players().length<=t.minPlayers),r(),g("icon",t.faMinus)}}var ke,R1=z(()=>{"use strict";C();U();le();Ie();Re();ie();C();ke=class a{#e=S(G);minPlayers=1;maxPlayers=6;faMinus=d1;faPlus=y1;players=_([]);playerChange=w();addPlayer(){if(this.players().length>=this.maxPlayers)return;this.#e.open(W,{data:{heading:"Enter player name",value:"Player "+(this.players().length+1),label:"Player name"}}).closed.pipe(j(1)).subscribe(e=>{e&&this.playerChange.emit([...this.players(),e])})}removePlayer(n){this.players().length<=this.minPlayers||this.playerChange.emit(this.players().filter((e,t)=>t!==n))}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-players"]],inputs:{players:[1,"players"]},outputs:{playerChange:"playerChange"},decls:4,vars:1,consts:[[3,"click","keydown.enter","keydown.space","disabled"],[1,"delete",3,"click","keydown.enter","keydown.space","disabled"],[3,"icon"]],template:function(e,t){e&1&&(v(0,L2,5,3,"p",null,k),d(2,"button",0),h("click",function(){return t.addPlayer()})("keydown.enter",function(){return t.addPlayer()})("keydown.space",function(){return t.addPlayer()}),m(3,` + Add Player
`),p()),e&2&&(x(t.players()),r(2),g("disabled",t.players().length>=t.maxPlayers))},dependencies:[ne],styles:["[_nghost-%COMP%]{display:block;padding:0 1rem}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   button.delete[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   button.delete[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   button.delete[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   button.delete[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}[_nghost-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:16ch}"],changeDetection:0})}});var Oe,H1=z(()=>{"use strict";C();C();Oe=class a{quest=_.required();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-quest"]],inputs:{quest:[1,"quest"]},decls:5,vars:2,template:function(e,t){e&1&&(f(0,"button")(1,"small"),m(2),u(),f(3,"strong"),m(4),u()()),e&2&&(r(2),D(t.quest().id),r(2),D(t.quest().name))},styles:["button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important;text-transform:uppercase}button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}button[_ngcontent-%COMP%]:not([disabled]):hover, button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700)!important}button[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-right:.25rem;font-weight:400}"],changeDetection:0})}});function O2(a,n){if(a&1&&Q(0,"app-badge",1),a&2){let e=n.$implicit;g("mainText",e.id.toString())("subText","p"+e.page.toString())}}function S2(a,n){a&1&&(d(0,"small"),m(1,"no matches"),p())}function T2(a,n){if(a&1&&Q(0,"app-badge",1),a&2){let e=n.$implicit;g("mainText",e.id.toString())("subText","p"+e.page.toString())}}function N2(a,n){a&1&&(d(0,"small"),m(1,"unknown"),p())}function F2(a,n){if(a&1){let e=b();d(0,"header")(1,"h1"),m(2),p(),d(3,"h2"),m(4),p()(),d(5,"main")(6,"p"),m(7,"Required in:"),p(),d(8,"p",0),v(9,O2,1,2,"app-badge",1,k,!1,S2,2,0,"small"),p(),d(12,"p"),m(13,"Rewarded in"),p(),d(14,"p",0),v(15,T2,1,2,"app-badge",1,k2,!1,N2,2,0,"small"),p()(),d(18,"footer")(19,"button",2),h("click",function(){c(e);let o=s();return l(o.delete())})("keydown.enter",function(){c(e);let o=s();return l(o.delete())})("keydown.space",function(){c(e);let o=s();return l(o.delete())}),m(20," Delete "),p(),d(21,"button",2),h("click",function(){c(e);let o=s();return l(o.close())})("keydown.enter",function(){c(e);let o=s();return l(o.close())})("keydown.space",function(){c(e);let o=s();return l(o.close())}),m(22," Close "),p()()}if(a&2){let e=s();r(2),D(e.quest().name),r(2),D(e.quest().id),r(5),x(e.matchingLocations()),r(6),x(e.rewardLocations())}}var k2,Se,Q1=z(()=>{"use strict";C();U();ie();C();k2=(a,n)=>n.id;Se=class a{#e=S(ee);#t=S(J);locations=$([]);quest=$(void 0);matchingLocations=A(()=>this.locations().filter(n=>n.requires.includes(this.quest().id)));rewardLocations=A(()=>this.locations().filter(n=>n.rewards.includes(this.quest().id)));ngOnInit(){this.locations.set(this.#e.locations),this.quest.set(this.#e.quest)}close(){this.#t.close()}delete(){this.#t.close({delete:!0})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-quest-details-modal"]],decls:1,vars:1,consts:[[1,"badges"],[3,"mainText","subText"],[3,"click","keydown.enter","keydown.space"]],template:function(e,t){e&1&&R(0,F2,23,4),e&2&&H(t.quest()?0:-1)},dependencies:[te],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;min-height:100%}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-start;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:uppercase}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:small}[_nghost-%COMP%]   main[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-evenly}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{display:flex;flex-flow:row-reverse nowrap;justify-content:space-between}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:transparent;border-color:var(--primary-700);color:var(--primary-000)!important}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type[disabled]{cursor:not-allowed}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type:not([disabled]):hover, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type:not([disabled]):active{background-color:var(--primary-700)!important}"],changeDetection:0})}});function q2(a,n){a&1&&Ee(0)}function V2(a,n){if(a&1&&(se(0,q2,1,0,"ng-container",2),q(1,"enumToString")),a&2){let e=n.$implicit,t=s(),o=V(7);g("ngTemplateOutlet",o)("ngTemplateOutletContext",Ze(4,E2,e,I(1,2,e),t.damage()[e]))}}function I2(a,n){a&1&&Ee(0)}function A2(a,n){if(a&1){let e=b();d(0,"li")(1,"span",1),m(2),p(),d(3,"button",3),h("click",function(){let o=c(e).room,i=s();return l(i.increaseDamage(o,-1))})("keydown.enter",function(){let o=c(e).room,i=s();return l(i.increaseDamage(o,-1))})("keydown.space",function(){let o=c(e).room,i=s();return l(i.increaseDamage(o,-1))}),m(4," - "),p(),m(5),d(6,"button",3),h("click",function(){let o=c(e).room,i=s();return l(i.increaseDamage(o,1))})("keydown.enter",function(){let o=c(e).room,i=s();return l(i.increaseDamage(o,1))})("keydown.space",function(){let o=c(e).room,i=s();return l(i.increaseDamage(o,1))}),m(7," + "),p()()}if(a&2){let e=n.roomName,t=n.max,o=n.damage;r(2),D(e),r(),g("disabled",o<=0),r(2),L(" ",o," "),r(),g("disabled",o>=t)}}var D2,E2,Te,j1=z(()=>{"use strict";C();n1();ce();oe();C();D2=(a,n)=>({max:1,room:a,roomName:"Hull",damage:n}),E2=(a,n,e)=>({max:2,room:a,roomName:n,damage:e});Te=class a{ShipRoom=re;shipRooms=Object.values(re);shipRoomsWithoutNone=this.shipRooms.filter(n=>n!=="NONE");damage=_.required();damageChange=w();increaseDamage(n,e){this.damageChange.emit({room:n,value:this.damage()[n]+e})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-ship-damage"]],inputs:{damage:[1,"damage"]},outputs:{damageChange:"damageChange"},decls:8,vars:5,consts:[["listItem",""],[1,"label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","keydown.enter","keydown.space","disabled"]],template:function(e,t){if(e&1&&(d(0,"div",1),m(1,"Ship Damage"),p(),d(2,"ul"),v(3,V2,2,8,"ng-container",null,k),se(5,I2,1,0,"ng-container",2),p(),se(6,A2,8,4,"ng-template",null,0,Je)),e&2){let o=V(7);r(3),x(t.shipRoomsWithoutNone),r(2),g("ngTemplateOutlet",o)("ngTemplateOutletContext",Xe(2,D2,t.ShipRoom.NONE,t.damage()[t.ShipRoom.NONE]))}},dependencies:[e1,B],styles:["ul[_ngcontent-%COMP%]{list-style-type:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:.5rem;margin-bottom:.5rem}ul[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100px}ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}ul[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}ul[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}"],changeDetection:0})}});function $2(a,n){if(a&1&&(f(0,"option",3),m(1),q(2,"enumToString"),u()),a&2){let e=n.$implicit,t=s();E("value",e)("selected",e===t.room()),r(),L(" ",I(2,3,e)," ")}}var Ne,B1=z(()=>{"use strict";C();ce();oe();C();Ne=class a{locationOptions=Object.values(re);room=_.required();roomChange=w();updateRoom(n){this.roomChange.emit(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-ship-room"]],inputs:{room:[1,"room"]},outputs:{roomChange:"roomChange"},decls:6,vars:0,consts:[["roomSelection",""],["for","ship-room"],[3,"change"],[3,"value","selected"]],template:function(e,t){if(e&1){let o=b();f(0,"label",1),m(1,"Last used Room"),u(),f(2,"select",2,0),P("change",function(){c(o);let y=V(3);return l(t.updateRoom(y.value))}),v(4,$2,3,5,"option",3,k),u()}e&2&&(r(4),x(t.locationOptions))},dependencies:[B],styles:["label[_ngcontent-%COMP%]{display:inline-block;width:8rem}select[_ngcontent-%COMP%]{width:220px;padding:.5rem}"],changeDetection:0})}});var Fe,G1=z(()=>{"use strict";C();C();Fe=class a{location=_.required();locationChange=w();updateLocation(n){this.locationChange.emit(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-ship-location"]],inputs:{location:[1,"location"]},outputs:{locationChange:"locationChange"},decls:4,vars:1,consts:[["shipLocation",""],["for","ship-location"],["type","number","id","ship-location","inputmode","numeric",3,"change","value"]],template:function(e,t){if(e&1){let o=b();f(0,"label",1),m(1,"Ship Location"),u(),f(2,"input",2,0),P("change",function(){c(o);let y=V(3);return l(t.updateLocation(y.valueAsNumber))}),u()}e&2&&(r(2),E("value",t.location()))},styles:["label[_ngcontent-%COMP%]{display:inline-block;width:8rem}input[_ngcontent-%COMP%]{width:200px;padding:.5rem}"],changeDetection:0})}});var De,W1=z(()=>{"use strict";C();j1();B1();G1();C();De=class a{room=_.required();location=_.required();damage=_.required();roomChange=w();locationChange=w();damageChange=w();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-ship"]],inputs:{room:[1,"room"],location:[1,"location"],damage:[1,"damage"]},outputs:{roomChange:"roomChange",locationChange:"locationChange",damageChange:"damageChange"},decls:6,vars:3,consts:[[3,"locationChange","location"],[3,"roomChange","room"],[3,"damageChange","damage"]],template:function(e,t){e&1&&(d(0,"p")(1,"app-ship-location",0),h("locationChange",function(i){return t.locationChange.emit(i)}),p()(),d(2,"p")(3,"app-ship-room",1),h("roomChange",function(i){return t.roomChange.emit(i)}),p()(),d(4,"p")(5,"app-ship-damage",2),h("damageChange",function(i){return t.damageChange.emit(i)}),p()()),e&2&&(r(),g("location",t.location()),r(2),g("room",t.room()),r(2),g("damage",t.damage()))},dependencies:[Te,Ne,Fe],styles:["[_nghost-%COMP%]{display:block;padding:0 1rem}"],changeDetection:0})}});var U1=z(()=>{"use strict";T1();F1();A1();Ge();je();Be();$1();R1();H1();Q1();He();W1()});function R2(a,n){if(a&1){let e=b();d(0,"app-quest",9),h("click",function(){let o=c(e).$implicit,i=s();return l(i.showQuestDetails(o.id))})("keydown.enter",function(){let o=c(e).$implicit,i=s();return l(i.showQuestDetails(o.id))})("keydown.space",function(){let o=c(e).$implicit,i=s();return l(i.showQuestDetails(o.id))}),p()}if(a&2){let e=n.$implicit;g("quest",e)}}function H2(a,n){if(a&1){let e=b();d(0,"app-location",10),h("locationChange$",function(o){c(e);let i=s();return l(i.updateLocation(o))}),p()}if(a&2){let e=n.$implicit,t=s();g("questCards",t.questCards)("location",e)("availableQuests",t.quests())}}var K1,X1,Q2=z(()=>{C();U();le();U1();m1();Z1();C();K1=(a,n)=>n.id;X1=class a{#e=S(a1);#t=S(G);#n=S(i1);#o=S(c1);#i=S(l1);#a=S(s1);#r=S(v1);pages=Array.from({length:r1.length}).map((n,e)=>e+2);questCards=this.#a.questCards;selectedPage=$(2);filteredLocations=A(()=>this.#o.locations().filter(n=>this.selectedPage()===n.page));crew=this.#e.crew;quests=this.#a.quests;players=this.#i.players;items=this.#n.items.asReadonly();ship={location:this.#r.lastLocation,room:this.#r.lastShipRoom,damage:this.#r.shipDamage};updateSelection(n){this.selectedPage.set(n)}updateLocation(n){this.#o.update(n)}addQuest(){this.#t.open(Z,{data:{cards:this.#a.questCards,heading:"Add A Quest Card"}}).closed.pipe(j(1)).subscribe(e=>{let t=this.questCards.find(o=>o.id===e);t&&this.#a.add(t)})}showQuestDetails(n){this.#t.open(Se,{data:{quest:this.quests().find(t=>t.id===n),locations:this.#o.locations()}}).closed.pipe(j(1)).subscribe(t=>{t?.delete&&this.#c(n)})}updatePlayers(n){this.#i.update(n)}updateCrew(n){this.#e.updateCrew(n)}updateItems(n){this.#n.update(n)}updateShipLocation(n){this.#r.updateLastLocation(n)}updateShipRoom(n){this.#r.updateLastShipRoom(n)}updateShipDamage(n){this.#r.updateShipDamage(n.room,n.value)}#c(n){confirm(`Are you sure you want to delete Quest ${n}?`)&&this.#a.remove(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=M({type:a,selectors:[["app-tracker"]],decls:26,vars:10,consts:[[3,"open"],[3,"quest"],[3,"click","keydown.enter","keydown.space"],[3,"selectionChange","pages","selectedPage"],[3,"questCards","location","availableQuests"],[3,"locationChange","roomChange","damageChange","room","location","damage"],[3,"itemsChanged","items"],[3,"playerChange","players"],[3,"crewChange","crew","players"],[3,"click","keydown.enter","keydown.space","quest"],[3,"locationChange$","questCards","location","availableQuests"]],template:function(e,t){e&1&&(d(0,"details",0)(1,"summary"),m(2,"Quests"),p(),v(3,R2,1,1,"app-quest",1,K1),d(5,"button",2),h("click",function(){return t.addQuest()})("keydown.enter",function(){return t.addQuest()})("keydown.space",function(){return t.addQuest()}),m(6," + "),p()(),d(7,"details")(8,"summary"),m(9,"Pages"),p(),d(10,"app-page-selection",3),h("selectionChange",function(i){return t.updateSelection(i)}),p(),v(11,H2,1,3,"app-location",4,K1),p(),d(13,"details")(14,"summary"),m(15,"Ship"),p(),d(16,"app-ship",5),h("locationChange",function(i){return t.updateShipLocation(i)})("roomChange",function(i){return t.updateShipRoom(i)})("damageChange",function(i){return t.updateShipDamage(i)}),p()(),d(17,"details")(18,"summary"),m(19,"Items & XP"),p(),d(20,"app-items",6),h("itemsChanged",function(i){return t.updateItems(i)}),p()(),d(21,"details")(22,"summary"),m(23,"Players & Crew"),p(),d(24,"app-players",7),h("playerChange",function(i){return t.updatePlayers(i)}),p(),d(25,"app-crew",8),h("crewChange",function(i){return t.updateCrew(i)}),p()()),e&2&&(g("open",!0),r(3),x(t.quests()),r(7),g("pages",t.pages)("selectedPage",t.selectedPage()),r(),x(t.filteredLocations()),r(5),g("room",t.ship.room())("location",t.ship.location())("damage",t.ship.damage()),r(4),g("items",t.items()),r(4),g("players",t.players()),r(),g("crew",t.crew())("players",t.players()))},dependencies:[ge,Me,Pe,Le,ke,Oe,De],styles:['details[_ngcontent-%COMP%]{padding:var(--padding-box);border-radius:var(--border-radius-box);margin:.5rem 0 1rem;background-color:var(--secondary-600);color:var(--secondary-100)}details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .5s;padding:var(--padding-box);border-radius:var(--border-radius-box)}details[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::marker{content:""}details[_ngcontent-%COMP%]:not([open])   summary[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center}details[_ngcontent-%COMP%]:not([open])   summary[_ngcontent-%COMP%]:before{content:"+";padding:var(--padding-box)}details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{position:relative}details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:before{content:"-";padding:var(--padding-box)}details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:after{content:"x";position:absolute;right:var(--padding-box)}details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover, details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:active{color:var(--primary-200)}details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-weight:700;font-size:125%}details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;border-width:1px;border-style:solid;border-radius:4px;padding:6px 12px;background-color:var(--primary-600);color:var(--primary-100);border-color:var(--primary-700)}details[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover, details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):active{background-color:var(--primary-700);border-color:var(--primary-700)}details[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:var(--disabled-000)}details[_ngcontent-%COMP%]   app-quest[_ngcontent-%COMP%]{margin:.25rem}app-location[_ngcontent-%COMP%]{margin-bottom:1rem}'],changeDetection:0})}});Q2();export{X1 as TrackerComponent};
